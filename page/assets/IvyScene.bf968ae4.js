var Re=Object.defineProperty;var we=(b,O,h)=>O in b?Re(b,O,{enumerable:!0,configurable:!0,writable:!0,value:h}):b[O]=h;var J=(b,O,h)=>(we(b,typeof O!="symbol"?O+"":O,h),h);import{z as Ce,C as xe,V as be,p as Ue,O as Ee,F as Ie,L as Ae,G as Me,H as Oe,I as Ne,y as Fe,w as De,t as Pe,J as Be,K as Ge}from"./vendor.cc2cfa35.js";class He extends Ce{constructor(O,h={}){const f=h.font;if(!(f&&f.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new xe;const c=f.generateShapes(O,h.size);h.depth=h.height!==void 0?h.height:50,h.bevelThickness===void 0&&(h.bevelThickness=10),h.bevelSize===void 0&&(h.bevelSize=8),h.bevelEnabled===void 0&&(h.bevelEnabled=!1);super(c,h);this.type="TextGeometry"}}function We(b,O,h,f){const c=.5,x=new be,{centerX:d=!0,centerY:v=!0,centerZ:a=!0}=f,r=new He(b,{font:O,size:(f.size||10)*.8*c,height:(f.height||.05)*.98*c,curveSegments:f.curveSegments||20,bevelEnabled:f.bevelEnabled||!0,bevelSegments:f.bevelSegments||6,bevelSize:(f.bevelSize||.02)*c,bevelThickness:(f.bevelThickness||.1)*c}),n=d||v||a,t=new Ue(r,h);if(n){r.computeBoundingBox();const s=r.boundingBox;if(!s)return{object:t,position:x};if(d){const i=-.5*(s.max.x-s.min.x);x.x=i}if(v){const i=-.5*(s.max.y-s.min.y);x.y=i}if(a){const i=-.4*(s.max.z-s.min.z);x.z=i}}return t.position.copy(x),{object:t,position:x}}function Se(b){if(!(b instanceof Ee))return;const O=b;O.geometry&&O.geometry.dispose(),O.material&&(O.material instanceof Array?O.material.forEach(h=>h.dispose()):O.material.dispose());for(const h of b.children)Se(h);b.parent&&b.parent.remove(b)}class ke{constructor(O){this.type="Font",this.data=O}generateShapes(O,h=100){const f=[],c=_e(O,h,this.data);for(let x=0,d=c.length;x<d;x++)Array.prototype.push.apply(f,c[x].toShapes());return f}}function _e(b,O,h){const f=Array.from(b),c=O/h.resolution,x=(h.boundingBox.yMax-h.boundingBox.yMin+h.underlineThickness)*c,d=[];let v=0,a=0;for(let r=0;r<f.length;r++){const n=f[r];if(n===`
`)v=0,a-=x;else{const t=ze(n,c,v,a,h);v+=t.offsetX,d.push(t.path)}}return d}function ze(b,O,h,f,c){const x=c.glyphs[b]||c.glyphs["?"];if(!x){console.error('THREE.Font: character "'+b+'" does not exists in font family '+c.familyName+".");return}const d=new Ie;let v,a,r,n,t,s,i,o;if(x.o){const e=x._cachedOutline||(x._cachedOutline=x.o.split(" "));for(let l=0,u=e.length;l<u;)switch(e[l++]){case"m":v=e[l++]*O+h,a=e[l++]*O+f,d.moveTo(v,a);break;case"l":v=e[l++]*O+h,a=e[l++]*O+f,d.lineTo(v,a);break;case"q":r=e[l++]*O+h,n=e[l++]*O+f,t=e[l++]*O+h,s=e[l++]*O+f,d.quadraticCurveTo(t,s,r,n);break;case"b":r=e[l++]*O+h,n=e[l++]*O+f,t=e[l++]*O+h,s=e[l++]*O+f,i=e[l++]*O+h,o=e[l++]*O+f,d.bezierCurveTo(t,s,i,o,r,n);break}}return{offsetX:x.ha*O,path:d}}ke.prototype.isFont=!0;/**
 * Modules in this bundle
 * @license
 *
 * opentype.js:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Frederik De Bleser <frederik@debleser.be>
 *   version: 0.6.5
 *
 * tiny-inflate:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Devon Govett <devongovett@gmail.com>
 *   maintainers: devongovett <devongovett@gmail.com>
 *   homepage: https://github.com/devongovett/tiny-inflate
 *   version: 1.0.2
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */(function(b){if(typeof exports=="object"&&typeof module!="undefined")module.exports=b();else if(typeof define=="function"&&define.amd)define([],b);else{var O;typeof window!="undefined"?O=window:typeof global!="undefined"?O=global:typeof self!="undefined"?O=self:O=this,O.opentype=b()}})(function(){return function b(O,h,f){function c(v,a){if(!h[v]){if(!O[v]){var r=typeof require=="function"&&require;if(!a&&r)return r(v,!0);if(x)return x(v,!0);var n=new Error("Cannot find module '"+v+"'");throw n.code="MODULE_NOT_FOUND",n}var t=h[v]={exports:{}};O[v][0].call(t.exports,function(s){var i=O[v][1][s];return c(i||s)},t,t.exports,b,O,h,f)}return h[v].exports}for(var x=typeof require=="function"&&require,d=0;d<f.length;d++)c(f[d]);return c}({1:[function(b,O,h){function f(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function c(k,j){this.source=k,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=j,this.destLen=0,this.ltree=new f,this.dtree=new f}function x(k,j,M,z){var F,K;for(F=0;M>F;++F)k[F]=0;for(F=0;30-M>F;++F)k[F+M]=F/M|0;for(K=z,F=0;30>F;++F)j[F]=K,K+=1<<k[F]}function d(k,j){var M;for(M=0;7>M;++M)k.table[M]=0;for(k.table[7]=24,k.table[8]=152,k.table[9]=112,M=0;24>M;++M)k.trans[M]=256+M;for(M=0;144>M;++M)k.trans[24+M]=M;for(M=0;8>M;++M)k.trans[168+M]=280+M;for(M=0;112>M;++M)k.trans[176+M]=144+M;for(M=0;5>M;++M)j.table[M]=0;for(j.table[5]=32,M=0;32>M;++M)j.trans[M]=M}function v(k,j,M,z){var F,K;for(F=0;16>F;++F)k.table[F]=0;for(F=0;z>F;++F)k.table[j[M+F]]++;for(k.table[0]=0,K=0,F=0;16>F;++F)_[F]=K,K+=k.table[F];for(F=0;z>F;++F)j[M+F]&&(k.trans[_[j[M+F]]++]=F)}function a(k){k.bitcount--||(k.tag=k.source[k.sourceIndex++],k.bitcount=7);var j=1&k.tag;return k.tag>>>=1,j}function r(k,j,M){if(!j)return M;for(;k.bitcount<24;)k.tag|=k.source[k.sourceIndex++]<<k.bitcount,k.bitcount+=8;var z=k.tag&65535>>>16-j;return k.tag>>>=j,k.bitcount-=j,z+M}function n(k,j){for(;k.bitcount<24;)k.tag|=k.source[k.sourceIndex++]<<k.bitcount,k.bitcount+=8;var M=0,z=0,F=0,K=k.tag;do z=2*z+(1&K),K>>>=1,++F,M+=j.table[F],z-=j.table[F];while(z>=0);return k.tag=K,k.bitcount-=F,j.trans[M+z]}function t(k,j,M){var z,F,K,$,Q,q;for(z=r(k,5,257),F=r(k,5,1),K=r(k,4,4),$=0;19>$;++$)w[$]=0;for($=0;K>$;++$){var X=r(k,3,0);w[G[$]]=X}for(v(U,w,0,19),Q=0;z+F>Q;){var Z=n(k,U);switch(Z){case 16:var V=w[Q-1];for(q=r(k,2,3);q;--q)w[Q++]=V;break;case 17:for(q=r(k,3,3);q;--q)w[Q++]=0;break;case 18:for(q=r(k,7,11);q;--q)w[Q++]=0;break;default:w[Q++]=Z}}v(j,w,0,z),v(M,w,z,F)}function s(k,j,M){for(;;){var z=n(k,j);if(z===256)return e;if(256>z)k.dest[k.destLen++]=z;else{var F,K,$,Q;for(z-=257,F=r(k,g[z],T[z]),K=n(k,M),$=k.destLen-r(k,E[K],H[K]),Q=$;$+F>Q;++Q)k.dest[k.destLen++]=k.dest[Q]}}}function i(k){for(var j,M,z;k.bitcount>8;)k.sourceIndex--,k.bitcount-=8;if(j=k.source[k.sourceIndex+1],j=256*j+k.source[k.sourceIndex],M=k.source[k.sourceIndex+3],M=256*M+k.source[k.sourceIndex+2],j!==(65535&~M))return l;for(k.sourceIndex+=4,z=j;z;--z)k.dest[k.destLen++]=k.source[k.sourceIndex++];return k.bitcount=0,e}function o(k,j){var M,z,F=new c(k,j);do{switch(M=a(F),r(F,2,0)){case 0:z=i(F);break;case 1:z=s(F,u,p);break;case 2:t(F,F.ltree,F.dtree),z=s(F,F.ltree,F.dtree);break;default:z=l}if(z!==e)throw new Error("Data error")}while(!M);return F.destLen<F.dest.length?typeof F.dest.slice=="function"?F.dest.slice(0,F.destLen):F.dest.subarray(0,F.destLen):F.dest}var e=0,l=-3,u=new f,p=new f,g=new Uint8Array(30),T=new Uint16Array(30),E=new Uint8Array(30),H=new Uint16Array(30),G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U=new f,w=new Uint8Array(320),_=new Uint16Array(16);d(u,p),x(g,T,4,3),x(E,H,2,1),g[28]=0,T[28]=258,O.exports=o},{}],2:[function(b,O,h){h.fail=function(f){throw new Error(f)},h.argument=function(f,c){f||h.fail(c)},h.assert=h.argument},{}],3:[function(b,O,h){function f(c,x,d,v,a){c.beginPath(),c.moveTo(x,d),c.lineTo(v,a),c.stroke()}h.line=f},{}],4:[function(b,O,h){function f(s){this.font=s}function c(s){this.cmap=s}function x(s,i){this.encoding=s,this.charset=i}function d(s){var i;switch(s.version){case 1:this.names=h.standardNames.slice();break;case 2:for(this.names=new Array(s.numberOfGlyphs),i=0;i<s.numberOfGlyphs;i++)this.names[i]=s.glyphNameIndex[i]<h.standardNames.length?h.standardNames[s.glyphNameIndex[i]]:s.names[s.glyphNameIndex[i]-h.standardNames.length];break;case 2.5:for(this.names=new Array(s.numberOfGlyphs),i=0;i<s.numberOfGlyphs;i++)this.names[i]=h.standardNames[i+s.glyphNameIndex[i]];break;case 3:this.names=[]}}function v(s){for(var i,o=s.tables.cmap.glyphIndexMap,e=Object.keys(o),l=0;l<e.length;l+=1){var u=e[l],p=o[u];i=s.glyphs.get(p),i.addUnicode(parseInt(u))}for(l=0;l<s.glyphs.length;l+=1)i=s.glyphs.get(l),s.cffEncoding?i.name=s.cffEncoding.charset[l]:s.glyphNames.names&&(i.name=s.glyphNames.glyphIndexToName(l))}var a=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],r=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],t=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];f.prototype.charToGlyphIndex=function(s){var i=s.charCodeAt(0),o=this.font.glyphs;if(!o)return null;for(var e=0;e<o.length;e+=1)for(var l=o.get(e),u=0;u<l.unicodes.length;u+=1)if(l.unicodes[u]===i)return e},c.prototype.charToGlyphIndex=function(s){return this.cmap.glyphIndexMap[s.charCodeAt(0)]||0},x.prototype.charToGlyphIndex=function(s){var i=s.charCodeAt(0),o=this.encoding[i];return this.charset.indexOf(o)},d.prototype.nameToGlyphIndex=function(s){return this.names.indexOf(s)},d.prototype.glyphIndexToName=function(s){return this.names[s]},h.cffStandardStrings=a,h.cffStandardEncoding=r,h.cffExpertEncoding=n,h.standardNames=t,h.DefaultEncoding=f,h.CmapEncoding=c,h.CffEncoding=x,h.GlyphNames=d,h.addGlyphNames=v},{}],5:[function(b,O,h){function f(n){n=n||{},n.empty||(r.checkArgument(n.familyName,"When creating a new Font object, familyName is required."),r.checkArgument(n.styleName,"When creating a new Font object, styleName is required."),r.checkArgument(n.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),r.checkArgument(n.ascender,"When creating a new Font object, ascender is required."),r.checkArgument(n.descender,"When creating a new Font object, descender is required."),r.checkArgument(n.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:n.familyName||" "},fontSubfamily:{en:n.styleName||" "},fullName:{en:n.fullName||n.familyName+" "+n.styleName},postScriptName:{en:n.postScriptName||n.familyName+n.styleName},designer:{en:n.designer||" "},designerURL:{en:n.designerURL||" "},manufacturer:{en:n.manufacturer||" "},manufacturerURL:{en:n.manufacturerURL||" "},license:{en:n.license||" "},licenseURL:{en:n.licenseURL||" "},version:{en:n.version||"Version 0.1"},description:{en:n.description||" "},copyright:{en:n.copyright||" "},trademark:{en:n.trademark||" "}},this.unitsPerEm=n.unitsPerEm||1e3,this.ascender=n.ascender,this.descender=n.descender,this.createdTimestamp=n.createdTimestamp,this.tables={os2:{usWeightClass:n.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:n.widthClass||this.usWidthClasses.MEDIUM,fsSelection:n.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new v.GlyphSet(this,n.glyphs||[]),this.encoding=new d.DefaultEncoding(this),this.substitution=new a(this),this.tables=this.tables||{}}var c=b("./path"),x=b("./tables/sfnt"),d=b("./encoding"),v=b("./glyphset"),a=b("./substitution"),r=b("./util");f.prototype.hasChar=function(n){return this.encoding.charToGlyphIndex(n)!==null},f.prototype.charToGlyphIndex=function(n){return this.encoding.charToGlyphIndex(n)},f.prototype.charToGlyph=function(n){var t=this.charToGlyphIndex(n),s=this.glyphs.get(t);return s||(s=this.glyphs.get(0)),s},f.prototype.stringToGlyphs=function(n){for(var t=[],s=0;s<n.length;s+=1){var i=n[s];t.push(this.charToGlyph(i))}return t},f.prototype.nameToGlyphIndex=function(n){return this.glyphNames.nameToGlyphIndex(n)},f.prototype.nameToGlyph=function(n){var t=this.nametoGlyphIndex(n),s=this.glyphs.get(t);return s||(s=this.glyphs.get(0)),s},f.prototype.glyphIndexToName=function(n){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(n):""},f.prototype.getKerningValue=function(n,t){n=n.index||n,t=t.index||t;var s=this.getGposKerningValue;return s?s(n,t):this.kerningPairs[n+","+t]||0},f.prototype.forEachGlyph=function(n,t,s,i,o,e){t=t!==void 0?t:0,s=s!==void 0?s:0,i=i!==void 0?i:72,o=o||{};for(var l=o.kerning===void 0?!0:o.kerning,u=1/this.unitsPerEm*i,p=this.stringToGlyphs(n),g=0;g<p.length;g+=1){var T=p[g];if(e(T,t,s,i,o),T.advanceWidth&&(t+=T.advanceWidth*u),l&&g<p.length-1){var E=this.getKerningValue(T,p[g+1]);t+=E*u}}},f.prototype.getPath=function(n,t,s,i,o){var e=new c.Path;return this.forEachGlyph(n,t,s,i,o,function(l,u,p,g){var T=l.getPath(u,p,g);e.extend(T)}),e},f.prototype.getPaths=function(n,t,s,i,o){var e=[];return this.forEachGlyph(n,t,s,i,o,function(l,u,p,g){var T=l.getPath(u,p,g);e.push(T)}),e},f.prototype.draw=function(n,t,s,i,o,e){this.getPath(t,s,i,o,e).draw(n)},f.prototype.drawPoints=function(n,t,s,i,o,e){this.forEachGlyph(t,s,i,o,e,function(l,u,p,g){l.drawPoints(n,u,p,g)})},f.prototype.drawMetrics=function(n,t,s,i,o,e){this.forEachGlyph(t,s,i,o,e,function(l,u,p,g){l.drawMetrics(n,u,p,g)})},f.prototype.getEnglishName=function(n){var t=this.names[n];return t?t.en:void 0},f.prototype.validate=function(){function n(i,o){}function t(i){var o=s.getEnglishName(i);n(o&&o.trim().length>0)}var s=this;t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),n(this.unitsPerEm>0)},f.prototype.toTables=function(){return x.fontToTable(this)},f.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},f.prototype.toArrayBuffer=function(){for(var n=this.toTables(),t=n.encode(),s=new ArrayBuffer(t.length),i=new Uint8Array(s),o=0;o<t.length;o++)i[o]=t[o];return s},f.prototype.download=function(){var n=this.getEnglishName("fontFamily"),t=this.getEnglishName("fontSubfamily"),s=n.replace(/\s/g,"")+"-"+t+".otf",i=this.toArrayBuffer();if(r.isBrowser())window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,i.byteLength,function(l){l.root.getFile(s,{create:!0},function(u){u.createWriter(function(p){var g=new DataView(i),T=new Blob([g],{type:"font/opentype"});p.write(T),p.addEventListener("writeend",function(){location.href=u.toURL()},!1)})})},function(l){throw new Error(l.name+": "+l.message)});else{var o=b("fs"),e=r.arrayBufferToNodeBuffer(i);o.writeFileSync(s,e)}},f.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},f.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},f.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900},h.Font=f},{"./encoding":4,"./glyphset":7,"./path":11,"./substitution":12,"./tables/sfnt":31,"./util":33,fs:void 0}],6:[function(b,O,h){function f(a,r){var n=r||{commands:[]};return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(t){n=t}}}function c(a){this.bindConstructorValues(a)}var x=b("./check"),d=b("./draw"),v=b("./path");c.prototype.bindConstructorValues=function(a){this.index=a.index||0,this.name=a.name||null,this.unicode=a.unicode||void 0,this.unicodes=a.unicodes||a.unicode!==void 0?[a.unicode]:[],a.xMin&&(this.xMin=a.xMin),a.yMin&&(this.yMin=a.yMin),a.xMax&&(this.xMax=a.xMax),a.yMax&&(this.yMax=a.yMax),a.advanceWidth&&(this.advanceWidth=a.advanceWidth),Object.defineProperty(this,"path",f(this,a.path))},c.prototype.addUnicode=function(a){this.unicodes.length===0&&(this.unicode=a),this.unicodes.push(a)},c.prototype.getPath=function(a,r,n,t){a=a!==void 0?a:0,r=r!==void 0?r:0,t=t!==void 0?t:{xScale:1,yScale:1},n=n!==void 0?n:72;for(var s=1/this.path.unitsPerEm*n,i=t.xScale*s,o=t.yScale*s,e=new v.Path,l=this.path.commands,u=0;u<l.length;u+=1){var p=l[u];p.type==="M"?e.moveTo(a+p.x*i,r+-p.y*o):p.type==="L"?e.lineTo(a+p.x*i,r+-p.y*o):p.type==="Q"?e.quadraticCurveTo(a+p.x1*i,r+-p.y1*o,a+p.x*i,r+-p.y*o):p.type==="C"?e.curveTo(a+p.x1*i,r+-p.y1*o,a+p.x2*i,r+-p.y2*o,a+p.x*i,r+-p.y*o):p.type==="Z"&&e.closePath()}return e},c.prototype.getContours=function(){if(this.points===void 0)return[];for(var a=[],r=[],n=0;n<this.points.length;n+=1){var t=this.points[n];r.push(t),t.lastPointOfContour&&(a.push(r),r=[])}return x.argument(r.length===0,"There are still points left in the current contour."),a},c.prototype.getMetrics=function(){for(var a=this.path.commands,r=[],n=[],t=0;t<a.length;t+=1){var s=a[t];s.type!=="Z"&&(r.push(s.x),n.push(s.y)),(s.type==="Q"||s.type==="C")&&(r.push(s.x1),n.push(s.y1)),s.type==="C"&&(r.push(s.x2),n.push(s.y2))}var i={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(i.xMin)||(i.xMin=0),isFinite(i.xMax)||(i.xMax=this.advanceWidth),isFinite(i.yMin)||(i.yMin=0),isFinite(i.yMax)||(i.yMax=0),i.rightSideBearing=this.advanceWidth-i.leftSideBearing-(i.xMax-i.xMin),i},c.prototype.draw=function(a,r,n,t,s){this.getPath(r,n,t,s).draw(a)},c.prototype.drawPoints=function(a,r,n,t){function s(g,T,E,H){var G=2*Math.PI;a.beginPath();for(var U=0;U<g.length;U+=1)a.moveTo(T+g[U].x*H,E+g[U].y*H),a.arc(T+g[U].x*H,E+g[U].y*H,2,0,G,!1);a.closePath(),a.fill()}r=r!==void 0?r:0,n=n!==void 0?n:0,t=t!==void 0?t:24;for(var i=1/this.path.unitsPerEm*t,o=[],e=[],l=this.path,u=0;u<l.commands.length;u+=1){var p=l.commands[u];p.x!==void 0&&o.push({x:p.x,y:-p.y}),p.x1!==void 0&&e.push({x:p.x1,y:-p.y1}),p.x2!==void 0&&e.push({x:p.x2,y:-p.y2})}a.fillStyle="blue",s(o,r,n,i),a.fillStyle="red",s(e,r,n,i)},c.prototype.drawMetrics=function(a,r,n,t){var s;r=r!==void 0?r:0,n=n!==void 0?n:0,t=t!==void 0?t:24,s=1/this.path.unitsPerEm*t,a.lineWidth=1,a.strokeStyle="black",d.line(a,r,-1e4,r,1e4),d.line(a,-1e4,n,1e4,n);var i=this.xMin||0,o=this.yMin||0,e=this.xMax||0,l=this.yMax||0,u=this.advanceWidth||0;a.strokeStyle="blue",d.line(a,r+i*s,-1e4,r+i*s,1e4),d.line(a,r+e*s,-1e4,r+e*s,1e4),d.line(a,-1e4,n+-o*s,1e4,n+-o*s),d.line(a,-1e4,n+-l*s,1e4,n+-l*s),a.strokeStyle="green",d.line(a,r+u*s,-1e4,r+u*s,1e4)},h.Glyph=c},{"./check":2,"./draw":3,"./path":11}],7:[function(b,O,h){function f(r,n,t){Object.defineProperty(r,n,{get:function(){return r.path,r[t]},set:function(s){r[t]=s},enumerable:!0,configurable:!0})}function c(r,n){if(this.font=r,this.glyphs={},Array.isArray(n))for(var t=0;t<n.length;t++)this.glyphs[t]=n[t];this.length=n&&n.length||0}function x(r,n){return new a.Glyph({index:n,font:r})}function d(r,n,t,s,i,o){return function(){var e=new a.Glyph({index:n,font:r});return e.path=function(){t(e,s,i);var l=o(r.glyphs,e);return l.unitsPerEm=r.unitsPerEm,l},f(e,"xMin","_xMin"),f(e,"xMax","_xMax"),f(e,"yMin","_yMin"),f(e,"yMax","_yMax"),e}}function v(r,n,t,s){return function(){var i=new a.Glyph({index:n,font:r});return i.path=function(){var o=t(r,i,s);return o.unitsPerEm=r.unitsPerEm,o},i}}var a=b("./glyph");c.prototype.get=function(r){return typeof this.glyphs[r]=="function"&&(this.glyphs[r]=this.glyphs[r]()),this.glyphs[r]},c.prototype.push=function(r,n){this.glyphs[r]=n,this.length++},h.GlyphSet=c,h.glyphLoader=x,h.ttfGlyphLoader=d,h.cffGlyphLoader=v},{"./glyph":6}],8:[function(b,O,h){function f(v,a){for(var r=0,n=v.length-1;n>=r;){var t=r+n>>>1,s=v[t].tag;if(s===a)return t;a>s?r=t+1:n=t-1}return-r-1}function c(v,a){for(var r=0,n=v.length-1;n>=r;){var t=r+n>>>1,s=v[t];if(s===a)return t;a>s?r=t+1:n=t-1}return-r-1}var x=b("./check"),d={searchTag:f,binSearch:c,getScriptNames:function(){var v=this.getGsubTable();return v?v.scripts.map(function(a){return a.tag}):[]},getScriptTable:function(v,a){var r=this.getGsubTable(a);if(r){var n=r.scripts,t=f(r.scripts,v);if(t>=0)return n[t].script;var s={tag:v,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return n.splice(-1-t,0,s.script),s}},getLangSysTable:function(v,a,r){var n=this.getScriptTable(v,r);if(n){if(a==="DFLT")return n.defaultLangSys;var t=f(n.langSysRecords,a);if(t>=0)return n.langSysRecords[t].langSys;if(r){var s={tag:a,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return n.langSysRecords.splice(-1-t,0,s),s.langSys}}},getFeatureTable:function(v,a,r,n){var t=this.getLangSysTable(v,a,n);if(t){for(var s,i=t.featureIndexes,o=this.font.tables.gsub.features,e=0;e<i.length;e++)if(s=o[i[e]],s.tag===r)return s.feature;if(n){var l=o.length;return x.assert(l===0||r>=o[l-1].tag,"Features must be added in alphabetical order."),s={tag:r,feature:{params:0,lookupListIndexes:[]}},o.push(s),i.push(l),s.feature}}},getLookupTable:function(v,a,r,n,t){var s=this.getFeatureTable(v,a,r,t);if(s){for(var i,o=s.lookupListIndexes,e=this.font.tables.gsub.lookups,l=0;l<o.length;l++)if(i=e[o[l]],i.lookupType===n)return i;if(t){i={lookupType:n,lookupFlag:0,subtables:[],markFilteringSet:void 0};var u=e.length;return e.push(i),o.push(u),i}}},expandCoverage:function(v){if(v.format===1)return v.glyphs;for(var a=[],r=v.ranges,n=0;r>n;n++)for(var t=r[n],s=t.start,i=t.end,o=s;i>=o;o++)a.push(o);return a}};O.exports=d},{"./check":2}],9:[function(b,O,h){function f(q,X){var Z=b("fs");Z.readFile(q,function(V,m){return V?X(V.message):void X(null,u.nodeBufferToArrayBuffer(m))})}function c(q,X){var Z=new XMLHttpRequest;Z.open("get",q,!0),Z.responseType="arraybuffer",Z.onload=function(){return Z.status!==200?X("Font could not be loaded: "+Z.statusText):X(null,Z.response)},Z.send()}function x(q,X){for(var Z=[],V=12,m=0;X>m;m+=1){var y=e.getTag(q,V),L=e.getULong(q,V+4),R=e.getULong(q,V+8),C=e.getULong(q,V+12);Z.push({tag:y,checksum:L,offset:R,length:C,compression:!1}),V+=16}return Z}function d(q,X){for(var Z=[],V=44,m=0;X>m;m+=1){var y,L=e.getTag(q,V),R=e.getULong(q,V+4),C=e.getULong(q,V+8),B=e.getULong(q,V+12);y=B>C?"WOFF":!1,Z.push({tag:L,offset:R,compression:y,compressedLength:C,originalLength:B}),V+=20}return Z}function v(q,X){if(X.compression==="WOFF"){var Z=new Uint8Array(q.buffer,X.offset+2,X.compressedLength-2),V=new Uint8Array(X.originalLength);if(t(Z,V),V.byteLength!==X.originalLength)throw new Error("Decompression error: "+X.tag+" decompressed length doesn't match recorded length");var m=new DataView(V.buffer,0);return{data:m,offset:0}}return{data:q,offset:X.offset}}function a(q){var X,Z,V,m=new i.Font({empty:!0}),y=new DataView(q,0),L=[],R=e.getTag(y,0);if(R===String.fromCharCode(0,1,0,0))m.outlinesFormat="truetype",V=e.getUShort(y,4),L=x(y,V);else if(R==="OTTO")m.outlinesFormat="cff",V=e.getUShort(y,4),L=x(y,V);else{if(R!=="wOFF")throw new Error("Unsupported OpenType signature "+R);var C=e.getTag(y,4);if(C===String.fromCharCode(0,1,0,0))m.outlinesFormat="truetype";else{if(C!=="OTTO")throw new Error("Unsupported OpenType flavor "+R);m.outlinesFormat="cff"}V=e.getUShort(y,12),L=d(y,V)}for(var B,I,W,A,D,Y,S,ee,re,ne,te=0;V>te;te+=1){var N,P=L[te];switch(P.tag){case"cmap":N=v(y,P),m.tables.cmap=p.parse(N.data,N.offset),m.encoding=new s.CmapEncoding(m.tables.cmap);break;case"fvar":I=P;break;case"head":N=v(y,P),m.tables.head=U.parse(N.data,N.offset),m.unitsPerEm=m.tables.head.unitsPerEm,X=m.tables.head.indexToLocFormat;break;case"hhea":N=v(y,P),m.tables.hhea=w.parse(N.data,N.offset),m.ascender=m.tables.hhea.ascender,m.descender=m.tables.hhea.descender,m.numberOfHMetrics=m.tables.hhea.numberOfHMetrics;break;case"hmtx":Y=P;break;case"ltag":N=v(y,P),Z=j.parse(N.data,N.offset);break;case"maxp":N=v(y,P),m.tables.maxp=z.parse(N.data,N.offset),m.numGlyphs=m.tables.maxp.numGlyphs;break;case"name":re=P;break;case"OS/2":N=v(y,P),m.tables.os2=K.parse(N.data,N.offset);break;case"post":N=v(y,P),m.tables.post=$.parse(N.data,N.offset),m.glyphNames=new s.GlyphNames(m.tables.post);break;case"glyf":W=P;break;case"loca":ee=P;break;case"CFF ":B=P;break;case"kern":S=P;break;case"GPOS":A=P;break;case"GSUB":D=P;break;case"meta":ne=P}}var ae=v(y,re);if(m.tables.name=F.parse(ae.data,ae.offset,Z),m.names=m.tables.name,W&&ee){var ce=X===0,me=v(y,ee),ve=M.parse(me.data,me.offset,m.numGlyphs,ce),ye=v(y,W);m.glyphs=E.parse(ye.data,ye.offset,ve,m)}else{if(!B)throw new Error("Font doesn't contain TrueType or CFF outlines.");var fe=v(y,B);g.parse(fe.data,fe.offset,m)}var he=v(y,Y);if(_.parse(he.data,he.offset,m.numberOfHMetrics,m.numGlyphs,m.glyphs),s.addGlyphNames(m),S){var oe=v(y,S);m.kerningPairs=k.parse(oe.data,oe.offset)}else m.kerningPairs={};if(A){var pe=v(y,A);H.parse(pe.data,pe.offset,m)}if(D){var se=v(y,D);m.tables.gsub=G.parse(se.data,se.offset)}if(I){var le=v(y,I);m.tables.fvar=T.parse(le.data,le.offset,m.names)}if(ne){var ue=v(y,ne);m.tables.meta=Q.parse(ue.data,ue.offset),m.metas=m.tables.meta}return m}function r(q,X){var Z=typeof window=="undefined",V=Z?f:c;V(q,function(m,y){if(m)return X(m);var L;try{L=a(y)}catch(R){return X(R,null)}return X(null,L)})}function n(q){var X=b("fs"),Z=X.readFileSync(q);return a(u.nodeBufferToArrayBuffer(Z))}var t=b("tiny-inflate"),s=b("./encoding"),i=b("./font"),o=b("./glyph"),e=b("./parse"),l=b("./path"),u=b("./util"),p=b("./tables/cmap"),g=b("./tables/cff"),T=b("./tables/fvar"),E=b("./tables/glyf"),H=b("./tables/gpos"),G=b("./tables/gsub"),U=b("./tables/head"),w=b("./tables/hhea"),_=b("./tables/hmtx"),k=b("./tables/kern"),j=b("./tables/ltag"),M=b("./tables/loca"),z=b("./tables/maxp"),F=b("./tables/name"),K=b("./tables/os2"),$=b("./tables/post"),Q=b("./tables/meta");h._parse=e,h.Font=i.Font,h.Glyph=o.Glyph,h.Path=l.Path,h.parse=a,h.load=r,h.loadSync=n},{"./encoding":4,"./font":5,"./glyph":6,"./parse":10,"./path":11,"./tables/cff":14,"./tables/cmap":15,"./tables/fvar":16,"./tables/glyf":17,"./tables/gpos":18,"./tables/gsub":19,"./tables/head":20,"./tables/hhea":21,"./tables/hmtx":22,"./tables/kern":23,"./tables/loca":24,"./tables/ltag":25,"./tables/maxp":26,"./tables/meta":27,"./tables/name":28,"./tables/os2":29,"./tables/post":30,"./util":33,fs:void 0,"tiny-inflate":1}],10:[function(b,O,h){function f(a,r){return a.getUint16(r,!1)}function c(a,r){this.data=a,this.offset=r,this.relativeOffset=0}var x=b("./check");h.getByte=function(a,r){return a.getUint8(r)},h.getCard8=h.getByte,h.getUShort=h.getCard16=f,h.getShort=function(a,r){return a.getInt16(r,!1)},h.getULong=function(a,r){return a.getUint32(r,!1)},h.getFixed=function(a,r){var n=a.getInt16(r,!1),t=a.getUint16(r+2,!1);return n+t/65535},h.getTag=function(a,r){for(var n="",t=r;r+4>t;t+=1)n+=String.fromCharCode(a.getInt8(t));return n},h.getOffset=function(a,r,n){for(var t=0,s=0;n>s;s+=1)t<<=8,t+=a.getUint8(r+s);return t},h.getBytes=function(a,r,n){for(var t=[],s=r;n>s;s+=1)t.push(a.getUint8(s));return t},h.bytesToString=function(a){for(var r="",n=0;n<a.length;n+=1)r+=String.fromCharCode(a[n]);return r};var d={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};c.prototype.parseByte=function(){var a=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,a},c.prototype.parseChar=function(){var a=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,a},c.prototype.parseCard8=c.prototype.parseByte,c.prototype.parseUShort=function(){var a=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,a},c.prototype.parseCard16=c.prototype.parseUShort,c.prototype.parseSID=c.prototype.parseUShort,c.prototype.parseOffset16=c.prototype.parseUShort,c.prototype.parseShort=function(){var a=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,a},c.prototype.parseF2Dot14=function(){var a=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,a},c.prototype.parseULong=function(){var a=h.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,a},c.prototype.parseFixed=function(){var a=h.getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,a},c.prototype.parseString=function(a){var r=this.data,n=this.offset+this.relativeOffset,t="";this.relativeOffset+=a;for(var s=0;a>s;s++)t+=String.fromCharCode(r.getUint8(n+s));return t},c.prototype.parseTag=function(){return this.parseString(4)},c.prototype.parseLongDateTime=function(){var a=h.getULong(this.data,this.offset+this.relativeOffset+4);return a-=2082844800,this.relativeOffset+=8,a},c.prototype.parseVersion=function(){var a=f(this.data,this.offset+this.relativeOffset),r=f(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,a+r/4096/10},c.prototype.skip=function(a,r){r===void 0&&(r=1),this.relativeOffset+=d[a]*r},c.prototype.parseOffset16List=c.prototype.parseUShortList=function(a){a===void 0&&(a=this.parseUShort());for(var r=new Array(a),n=this.data,t=this.offset+this.relativeOffset,s=0;a>s;s++)r[s]=n.getUint16(t),t+=2;return this.relativeOffset+=2*a,r},c.prototype.parseList=function(a,r){r||(r=a,a=this.parseUShort());for(var n=new Array(a),t=0;a>t;t++)n[t]=r.call(this);return n},c.prototype.parseRecordList=function(a,r){r||(r=a,a=this.parseUShort());for(var n=new Array(a),t=Object.keys(r),s=0;a>s;s++){for(var i={},o=0;o<t.length;o++){var e=t[o],l=r[e];i[e]=l.call(this)}n[s]=i}return n},c.prototype.parseStruct=function(a){if(typeof a=="function")return a.call(this);for(var r=Object.keys(a),n={},t=0;t<r.length;t++){var s=r[t],i=a[s];n[s]=i.call(this)}return n},c.prototype.parsePointer=function(a){var r=this.parseOffset16();return r>0?new c(this.data,this.offset+r).parseStruct(a):void 0},c.prototype.parseListOfLists=function(a){for(var r=this.parseOffset16List(),n=r.length,t=this.relativeOffset,s=new Array(n),i=0;n>i;i++){var o=r[i];if(o!==0)if(this.relativeOffset=o,a){for(var e=this.parseOffset16List(),l=new Array(e.length),u=0;u<e.length;u++)this.relativeOffset=o+e[u],l[u]=a.call(this);s[i]=l}else s[i]=this.parseUShortList();else s[i]=void 0}return this.relativeOffset=t,s},c.prototype.parseCoverage=function(){var a=this.offset+this.relativeOffset,r=this.parseUShort(),n=this.parseUShort();if(r===1)return{format:1,glyphs:this.parseUShortList(n)};if(r===2){for(var t=new Array(n),s=0;n>s;s++)t[s]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:t}}x.assert(!1,"0x"+a.toString(16)+": Coverage format must be 1 or 2.")},c.prototype.parseClassDef=function(){var a=this.offset+this.relativeOffset,r=this.parseUShort();return r===1?{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()}:r===2?{format:2,ranges:this.parseRecordList({start:c.uShort,end:c.uShort,classId:c.uShort})}:void x.assert(!1,"0x"+a.toString(16)+": ClassDef format must be 1 or 2.")},c.list=function(a,r){return function(){return this.parseList(a,r)}},c.recordList=function(a,r){return function(){return this.parseRecordList(a,r)}},c.pointer=function(a){return function(){return this.parsePointer(a)}},c.tag=c.prototype.parseTag,c.byte=c.prototype.parseByte,c.uShort=c.offset16=c.prototype.parseUShort,c.uShortList=c.prototype.parseUShortList,c.struct=c.prototype.parseStruct,c.coverage=c.prototype.parseCoverage,c.classDef=c.prototype.parseClassDef;var v={reserved:c.uShort,reqFeatureIndex:c.uShort,featureIndexes:c.uShortList};c.prototype.parseScriptList=function(){return this.parsePointer(c.recordList({tag:c.tag,script:c.pointer({defaultLangSys:c.pointer(v),langSysRecords:c.recordList({tag:c.tag,langSys:c.pointer(v)})})}))},c.prototype.parseFeatureList=function(){return this.parsePointer(c.recordList({tag:c.tag,feature:c.pointer({featureParams:c.offset16,lookupListIndexes:c.uShortList})}))},c.prototype.parseLookupList=function(a){return this.parsePointer(c.list(c.pointer(function(){var r=this.parseUShort();x.argument(r>=1&&8>=r,"GSUB lookup type "+r+" unknown.");var n=this.parseUShort(),t=16&n;return{lookupType:r,lookupFlag:n,subtables:this.parseList(c.pointer(a[r])),markFilteringSet:t?this.parseUShort():void 0}})))},h.Parser=c},{"./check":2}],11:[function(b,O,h){function f(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}f.prototype.moveTo=function(c,x){this.commands.push({type:"M",x:c,y:x})},f.prototype.lineTo=function(c,x){this.commands.push({type:"L",x:c,y:x})},f.prototype.curveTo=f.prototype.bezierCurveTo=function(c,x,d,v,a,r){this.commands.push({type:"C",x1:c,y1:x,x2:d,y2:v,x:a,y:r})},f.prototype.quadTo=f.prototype.quadraticCurveTo=function(c,x,d,v){this.commands.push({type:"Q",x1:c,y1:x,x:d,y:v})},f.prototype.close=f.prototype.closePath=function(){this.commands.push({type:"Z"})},f.prototype.extend=function(c){c.commands&&(c=c.commands),Array.prototype.push.apply(this.commands,c)},f.prototype.draw=function(c){c.beginPath();for(var x=0;x<this.commands.length;x+=1){var d=this.commands[x];d.type==="M"?c.moveTo(d.x,d.y):d.type==="L"?c.lineTo(d.x,d.y):d.type==="C"?c.bezierCurveTo(d.x1,d.y1,d.x2,d.y2,d.x,d.y):d.type==="Q"?c.quadraticCurveTo(d.x1,d.y1,d.x,d.y):d.type==="Z"&&c.closePath()}this.fill&&(c.fillStyle=this.fill,c.fill()),this.stroke&&(c.strokeStyle=this.stroke,c.lineWidth=this.strokeWidth,c.stroke())},f.prototype.toPathData=function(c){function x(n){return Math.round(n)===n?""+Math.round(n):n.toFixed(c)}function d(){for(var n="",t=0;t<arguments.length;t+=1){var s=arguments[t];s>=0&&t>0&&(n+=" "),n+=x(s)}return n}c=c!==void 0?c:2;for(var v="",a=0;a<this.commands.length;a+=1){var r=this.commands[a];r.type==="M"?v+="M"+d(r.x,r.y):r.type==="L"?v+="L"+d(r.x,r.y):r.type==="C"?v+="C"+d(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type==="Q"?v+="Q"+d(r.x1,r.y1,r.x,r.y):r.type==="Z"&&(v+="Z")}return v},f.prototype.toSVG=function(c){var x='<path d="';return x+=this.toPathData(c),x+='"',this.fill&&this.fill!=="black"&&(x+=this.fill===null?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(x+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),x+="/>"},h.Path=f},{}],12:[function(b,O,h){function f(a,r){var n=a.length;if(n!==r.length)return!1;for(var t=0;n>t;t++)if(a[t]!==r[t])return!1;return!0}function c(a,r,n){for(var t=a.subtables,s=0;s<t.length;s++){var i=t[s];if(i.substFormat===r)return i}return n?(t.push(n),n):void 0}var x=b("./check"),d=b("./layout"),v=function(a){this.font=a};v.prototype=d,v.prototype.getGsubTable=function(a){var r=this.font.tables.gsub;return!r&&a&&(this.font.tables.gsub=r={version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}),r},v.prototype.getSingle=function(a,r,n){var t=[],s=this.getLookupTable(r,n,a,1);if(!s)return t;for(var i=s.subtables,o=0;o<i.length;o++){var e,l=i[o],u=this.expandCoverage(l.coverage);if(l.substFormat===1){var p=l.deltaGlyphId;for(e=0;e<u.length;e++){var g=u[e];t.push({sub:g,by:g+p})}}else{var T=l.substitute;for(e=0;e<u.length;e++)t.push({sub:u[e],by:T[e]})}}return t},v.prototype.getAlternates=function(a,r,n){var t=[],s=this.getLookupTable(r,n,a,3);if(!s)return t;for(var i=s.subtables,o=0;o<i.length;o++)for(var e=i[o],l=this.expandCoverage(e.coverage),u=e.alternateSets,p=0;p<l.length;p++)t.push({sub:l[p],by:u[p]});return t},v.prototype.getLigatures=function(a,r,n){var t=[],s=this.getLookupTable(r,n,a,4);if(!s)return[];for(var i=s.subtables,o=0;o<i.length;o++)for(var e=i[o],l=this.expandCoverage(e.coverage),u=e.ligatureSets,p=0;p<l.length;p++)for(var g=l[p],T=u[p],E=0;E<T.length;E++){var H=T[E];t.push({sub:[g].concat(H.components),by:H.ligGlyph})}return t},v.prototype.addSingle=function(a,r,n,t){var s=this.getLookupTable(n,t,a,1,!0),i=c(s,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});x.assert(i.coverage.format===1,"Ligature: unable to modify coverage table format "+i.coverage.format);var o=r.sub,e=this.binSearch(i.coverage.glyphs,o);0>e&&(e=-1-e,i.coverage.glyphs.splice(e,0,o),i.substitute.splice(e,0,0)),i.substitute[e]=r.by},v.prototype.addAlternate=function(a,r,n,t){var s=this.getLookupTable(n,t,a,3,!0),i=c(s,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});x.assert(i.coverage.format===1,"Ligature: unable to modify coverage table format "+i.coverage.format);var o=r.sub,e=this.binSearch(i.coverage.glyphs,o);0>e&&(e=-1-e,i.coverage.glyphs.splice(e,0,o),i.alternateSets.splice(e,0,0)),i.alternateSets[e]=r.by},v.prototype.addLigature=function(a,r,n,t){n=n||"DFLT",t=t||"DFLT";var s=this.getLookupTable(n,t,a,4,!0),i=s.subtables[0];i||(i={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},s.subtables[0]=i),x.assert(i.coverage.format===1,"Ligature: unable to modify coverage table format "+i.coverage.format);var o=r.sub[0],e=r.sub.slice(1),l={ligGlyph:r.by,components:e},u=this.binSearch(i.coverage.glyphs,o);if(u>=0){for(var p=i.ligatureSets[u],g=0;g<p.length;g++)if(f(p[g].components,e))return;p.push(l)}else u=-1-u,i.coverage.glyphs.splice(u,0,o),i.ligatureSets.splice(u,0,[l])},v.prototype.getFeature=function(a,r,n){if(r=r||"DFLT",n=n||"DFLT",/ss\d\d/.test(a))return this.getSingle(a,r,n);switch(a){case"aalt":case"salt":return this.getSingle(a,r,n).concat(this.getAlternates(a,r,n));case"dlig":case"liga":case"rlig":return this.getLigatures(a,r,n)}},v.prototype.add=function(a,r,n,t){if(n=n||"DFLT",t=t||"DFLT",/ss\d\d/.test(a))return this.addSingle(a,r,n,t);switch(a){case"aalt":case"salt":return typeof r.by=="number"?this.addSingle(a,r,n,t):this.addAlternate(a,r,n,t);case"dlig":case"liga":case"rlig":return this.addLigature(a,r,n,t)}},O.exports=v},{"./check":2,"./layout":8}],13:[function(b,O,h){function f(o,e,l){var u;for(u=0;u<e.length;u+=1){var p=e[u];this[p.name]=p.value}if(this.tableName=o,this.fields=e,l){var g=Object.keys(l);for(u=0;u<g.length;u+=1){var T=g[u],E=l[T];this[T]!==void 0&&(this[T]=E)}}}function c(o,e,l){l===void 0&&(l=e.length);var u=new Array(e.length+1);u[0]={name:o+"Count",type:"USHORT",value:l};for(var p=0;p<e.length;p++)u[p+1]={name:o+p,type:"USHORT",value:e[p]};return u}function x(o,e,l){var u=e.length,p=new Array(u+1);p[0]={name:o+"Count",type:"USHORT",value:u};for(var g=0;u>g;g++)p[g+1]={name:o+g,type:"TABLE",value:l(e[g],g)};return p}function d(o,e,l){var u=e.length,p=[];p[0]={name:o+"Count",type:"USHORT",value:u};for(var g=0;u>g;g++)p=p.concat(l(e[g],g));return p}function v(o){o.format===1?f.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(c("glyph",o.glyphs))):t.assert(!1,"Can't create coverage table format 2 yet.")}function a(o){f.call(this,"scriptListTable",d("scriptRecord",o,function(e,l){var u=e.script,p=u.defaultLangSys;return t.assert(!!p,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+l,type:"TAG",value:e.tag},{name:"script"+l,type:"TABLE",value:new f("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new f("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:p.reqFeatureIndex}].concat(c("featureIndex",p.featureIndexes)))}].concat(d("langSys",u.langSysRecords,function(g,T){var E=g.langSys;return[{name:"langSysTag"+T,type:"TAG",value:g.tag},{name:"langSys"+T,type:"TABLE",value:new f("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:E.reqFeatureIndex}].concat(c("featureIndex",E.featureIndexes)))}]})))}]}))}function r(o){f.call(this,"featureListTable",d("featureRecord",o,function(e,l){var u=e.feature;return[{name:"featureTag"+l,type:"TAG",value:e.tag},{name:"feature"+l,type:"TABLE",value:new f("featureTable",[{name:"featureParams",type:"USHORT",value:u.featureParams}].concat(c("lookupListIndex",u.lookupListIndexes)))}]}))}function n(o,e){f.call(this,"lookupListTable",x("lookup",o,function(l){var u=e[l.lookupType];return t.assert(!!u,"Unable to write GSUB lookup type "+l.lookupType+" tables."),new f("lookupTable",[{name:"lookupType",type:"USHORT",value:l.lookupType},{name:"lookupFlag",type:"USHORT",value:l.lookupFlag}].concat(x("subtable",l.subtables,u)))}))}var t=b("./check"),s=b("./types").encode,i=b("./types").sizeOf;f.prototype.encode=function(){return s.TABLE(this)},f.prototype.sizeOf=function(){return i.TABLE(this)},v.prototype=Object.create(f.prototype),v.prototype.constructor=v,a.prototype=Object.create(f.prototype),a.prototype.constructor=a,r.prototype=Object.create(f.prototype),r.prototype.constructor=r,n.prototype=Object.create(f.prototype),n.prototype.constructor=n,h.Record=h.Table=f,h.Coverage=v,h.ScriptList=a,h.FeatureList=r,h.LookupList=n,h.ushortList=c,h.tableList=x,h.recordList=d},{"./check":2,"./types":32}],14:[function(b,O,h){function f(m,y){if(m===y)return!0;if(Array.isArray(m)&&Array.isArray(y)){if(m.length!==y.length)return!1;for(var L=0;L<m.length;L+=1)if(!f(m[L],y[L]))return!1;return!0}return!1}function c(m,y,L){var R,C,B,I=[],W=[],A=Q.getCard16(m,y);if(A!==0){var D=Q.getByte(m,y+2);C=y+(A+1)*D+2;var Y=y+3;for(R=0;A+1>R;R+=1)I.push(Q.getOffset(m,Y,D)),Y+=D;B=C+I[A]}else B=y+2;for(R=0;R<I.length-1;R+=1){var S=Q.getBytes(m,C+I[R],C+I[R+1]);L&&(S=L(S)),W.push(S)}return{objects:W,startOffset:y,endOffset:B}}function x(m){for(var y="",L=15,R=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var C=m.parseByte(),B=C>>4,I=15&C;if(B===L||(y+=R[B],I===L))break;y+=R[I]}return parseFloat(y)}function d(m,y){var L,R,C,B;if(y===28)return L=m.parseByte(),R=m.parseByte(),L<<8|R;if(y===29)return L=m.parseByte(),R=m.parseByte(),C=m.parseByte(),B=m.parseByte(),L<<24|R<<16|C<<8|B;if(y===30)return x(m);if(y>=32&&246>=y)return y-139;if(y>=247&&250>=y)return L=m.parseByte(),256*(y-247)+L+108;if(y>=251&&254>=y)return L=m.parseByte(),256*-(y-251)-L-108;throw new Error("Invalid b0 "+y)}function v(m){for(var y={},L=0;L<m.length;L+=1){var R,C=m[L][0],B=m[L][1];if(R=B.length===1?B[0]:B,y.hasOwnProperty(C))throw new Error("Object "+y+" already has key "+C);y[C]=R}return y}function a(m,y,L){y=y!==void 0?y:0;var R=new Q.Parser(m,y),C=[],B=[];for(L=L!==void 0?L:m.length;R.relativeOffset<L;){var I=R.parseByte();21>=I?(I===12&&(I=1200+R.parseByte()),C.push([I,B]),B=[]):B.push(d(R,I))}return v(C)}function r(m,y){return y=390>=y?K.cffStandardStrings[y]:m[y-391]}function n(m,y,L){for(var R={},C=0;C<y.length;C+=1){var B=y[C],I=m[B.op];I===void 0&&(I=B.value!==void 0?B.value:null),B.type==="SID"&&(I=r(L,I)),R[B.name]=I}return R}function t(m,y){var L={};return L.formatMajor=Q.getCard8(m,y),L.formatMinor=Q.getCard8(m,y+1),L.size=Q.getCard8(m,y+2),L.offsetSize=Q.getCard8(m,y+3),L.startOffset=y,L.endOffset=y+4,L}function s(m,y){var L=a(m,0,m.byteLength);return n(L,Z,y)}function i(m,y,L,R){var C=a(m,y,L);return n(C,V,R)}function o(m,y,L,R){var C,B,I,W=new Q.Parser(m,y);L-=1;var A=[".notdef"],D=W.parseCard8();if(D===0)for(C=0;L>C;C+=1)B=W.parseSID(),A.push(r(R,B));else if(D===1)for(;A.length<=L;)for(B=W.parseSID(),I=W.parseCard8(),C=0;I>=C;C+=1)A.push(r(R,B)),B+=1;else{if(D!==2)throw new Error("Unknown charset format "+D);for(;A.length<=L;)for(B=W.parseSID(),I=W.parseCard16(),C=0;I>=C;C+=1)A.push(r(R,B)),B+=1}return A}function e(m,y,L){var R,C,B={},I=new Q.Parser(m,y),W=I.parseCard8();if(W===0){var A=I.parseCard8();for(R=0;A>R;R+=1)C=I.parseCard8(),B[C]=R}else{if(W!==1)throw new Error("Unknown encoding format "+W);var D=I.parseCard8();for(C=1,R=0;D>R;R+=1)for(var Y=I.parseCard8(),S=I.parseCard8(),ee=Y;Y+S>=ee;ee+=1)B[ee]=C,C+=1}return new K.CffEncoding(B,L)}function l(m,y,L){function R(ae,ce){te&&Y.closePath(),Y.moveTo(ae,ce),te=!0}function C(){var ae;ae=S.length%2!=0,ae&&!re&&(ne=S.shift()+m.nominalWidthX),ee+=S.length>>1,S.length=0,re=!0}function B(ae){for(var ce,me,ve,ye,fe,he,oe,pe,se,le,ue,ge,ie=0;ie<ae.length;){var de=ae[ie];switch(ie+=1,de){case 1:C();break;case 3:C();break;case 4:S.length>1&&!re&&(ne=S.shift()+m.nominalWidthX,re=!0),P+=S.pop(),R(N,P);break;case 5:for(;S.length>0;)N+=S.shift(),P+=S.shift(),Y.lineTo(N,P);break;case 6:for(;S.length>0&&(N+=S.shift(),Y.lineTo(N,P),S.length!==0);)P+=S.shift(),Y.lineTo(N,P);break;case 7:for(;S.length>0&&(P+=S.shift(),Y.lineTo(N,P),S.length!==0);)N+=S.shift(),Y.lineTo(N,P);break;case 8:for(;S.length>0;)I=N+S.shift(),W=P+S.shift(),A=I+S.shift(),D=W+S.shift(),N=A+S.shift(),P=D+S.shift(),Y.curveTo(I,W,A,D,N,P);break;case 10:fe=S.pop()+m.subrsBias,he=m.subrs[fe],he&&B(he);break;case 11:return;case 12:switch(de=ae[ie],ie+=1,de){case 35:I=N+S.shift(),W=P+S.shift(),A=I+S.shift(),D=W+S.shift(),oe=A+S.shift(),pe=D+S.shift(),se=oe+S.shift(),le=pe+S.shift(),ue=se+S.shift(),ge=le+S.shift(),N=ue+S.shift(),P=ge+S.shift(),S.shift(),Y.curveTo(I,W,A,D,oe,pe),Y.curveTo(se,le,ue,ge,N,P);break;case 34:I=N+S.shift(),W=P,A=I+S.shift(),D=W+S.shift(),oe=A+S.shift(),pe=D,se=oe+S.shift(),le=D,ue=se+S.shift(),ge=P,N=ue+S.shift(),Y.curveTo(I,W,A,D,oe,pe),Y.curveTo(se,le,ue,ge,N,P);break;case 36:I=N+S.shift(),W=P+S.shift(),A=I+S.shift(),D=W+S.shift(),oe=A+S.shift(),pe=D,se=oe+S.shift(),le=D,ue=se+S.shift(),ge=le+S.shift(),N=ue+S.shift(),Y.curveTo(I,W,A,D,oe,pe),Y.curveTo(se,le,ue,ge,N,P);break;case 37:I=N+S.shift(),W=P+S.shift(),A=I+S.shift(),D=W+S.shift(),oe=A+S.shift(),pe=D+S.shift(),se=oe+S.shift(),le=pe+S.shift(),ue=se+S.shift(),ge=le+S.shift(),Math.abs(ue-N)>Math.abs(ge-P)?N=ue+S.shift():P=ge+S.shift(),Y.curveTo(I,W,A,D,oe,pe),Y.curveTo(se,le,ue,ge,N,P);break;default:console.log("Glyph "+y.index+": unknown operator 1200"+de),S.length=0}break;case 14:S.length>0&&!re&&(ne=S.shift()+m.nominalWidthX,re=!0),te&&(Y.closePath(),te=!1);break;case 18:C();break;case 19:case 20:C(),ie+=ee+7>>3;break;case 21:S.length>2&&!re&&(ne=S.shift()+m.nominalWidthX,re=!0),P+=S.pop(),N+=S.pop(),R(N,P);break;case 22:S.length>1&&!re&&(ne=S.shift()+m.nominalWidthX,re=!0),N+=S.pop(),R(N,P);break;case 23:C();break;case 24:for(;S.length>2;)I=N+S.shift(),W=P+S.shift(),A=I+S.shift(),D=W+S.shift(),N=A+S.shift(),P=D+S.shift(),Y.curveTo(I,W,A,D,N,P);N+=S.shift(),P+=S.shift(),Y.lineTo(N,P);break;case 25:for(;S.length>6;)N+=S.shift(),P+=S.shift(),Y.lineTo(N,P);I=N+S.shift(),W=P+S.shift(),A=I+S.shift(),D=W+S.shift(),N=A+S.shift(),P=D+S.shift(),Y.curveTo(I,W,A,D,N,P);break;case 26:for(S.length%2&&(N+=S.shift());S.length>0;)I=N,W=P+S.shift(),A=I+S.shift(),D=W+S.shift(),N=A,P=D+S.shift(),Y.curveTo(I,W,A,D,N,P);break;case 27:for(S.length%2&&(P+=S.shift());S.length>0;)I=N+S.shift(),W=P,A=I+S.shift(),D=W+S.shift(),N=A+S.shift(),P=D,Y.curveTo(I,W,A,D,N,P);break;case 28:ce=ae[ie],me=ae[ie+1],S.push((ce<<24|me<<16)>>16),ie+=2;break;case 29:fe=S.pop()+m.gsubrsBias,he=m.gsubrs[fe],he&&B(he);break;case 30:for(;S.length>0&&(I=N,W=P+S.shift(),A=I+S.shift(),D=W+S.shift(),N=A+S.shift(),P=D+(S.length===1?S.shift():0),Y.curveTo(I,W,A,D,N,P),S.length!==0);)I=N+S.shift(),W=P,A=I+S.shift(),D=W+S.shift(),P=D+S.shift(),N=A+(S.length===1?S.shift():0),Y.curveTo(I,W,A,D,N,P);break;case 31:for(;S.length>0&&(I=N+S.shift(),W=P,A=I+S.shift(),D=W+S.shift(),P=D+S.shift(),N=A+(S.length===1?S.shift():0),Y.curveTo(I,W,A,D,N,P),S.length!==0);)I=N,W=P+S.shift(),A=I+S.shift(),D=W+S.shift(),N=A+S.shift(),P=D+(S.length===1?S.shift():0),Y.curveTo(I,W,A,D,N,P);break;default:32>de?console.log("Glyph "+y.index+": unknown operator "+de):247>de?S.push(de-139):251>de?(ce=ae[ie],ie+=1,S.push(256*(de-247)+ce+108)):255>de?(ce=ae[ie],ie+=1,S.push(256*-(de-251)-ce-108)):(ce=ae[ie],me=ae[ie+1],ve=ae[ie+2],ye=ae[ie+3],ie+=4,S.push((ce<<24|me<<16|ve<<8|ye)/65536))}}}var I,W,A,D,Y=new q.Path,S=[],ee=0,re=!1,ne=m.defaultWidthX,te=!1,N=0,P=0;return B(L),y.advanceWidth=ne,Y}function u(m){return m.length<1240?107:m.length<33900?1131:32768}function p(m,y,L){L.tables.cff={};var R=t(m,y),C=c(m,R.endOffset,Q.bytesToString),B=c(m,C.endOffset),I=c(m,B.endOffset,Q.bytesToString),W=c(m,I.endOffset);L.gsubrs=W.objects,L.gsubrsBias=u(L.gsubrs);var A=new DataView(new Uint8Array(B.objects[0]).buffer),D=s(A,I.objects);L.tables.cff.topDict=D;var Y=y+D.private[1],S=i(m,Y,D.private[0],I.objects);if(L.defaultWidthX=S.defaultWidthX,L.nominalWidthX=S.nominalWidthX,S.subrs!==0){var ee=Y+S.subrs,re=c(m,ee);L.subrs=re.objects,L.subrsBias=u(L.subrs)}else L.subrs=[],L.subrsBias=0;var ne=c(m,y+D.charStrings);L.nGlyphs=ne.objects.length;var te=o(m,y+D.charset,L.nGlyphs,I.objects);L.cffEncoding=D.encoding===0?new K.CffEncoding(K.cffStandardEncoding,te):D.encoding===1?new K.CffEncoding(K.cffExpertEncoding,te):e(m,y+D.encoding,te),L.encoding=L.encoding||L.cffEncoding,L.glyphs=new $.GlyphSet(L);for(var N=0;N<L.nGlyphs;N+=1){var P=ne.objects[N];L.glyphs.push(N,$.cffGlyphLoader(L,N,l,P))}}function g(m,y){var L,R=K.cffStandardStrings.indexOf(m);return R>=0&&(L=R),R=y.indexOf(m),R>=0?L=R+K.cffStandardStrings.length:(L=K.cffStandardStrings.length+y.length,y.push(m)),L}function T(){return new X.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function E(m){var y=new X.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);y.names=[];for(var L=0;L<m.length;L+=1)y.names.push({name:"name_"+L,type:"NAME",value:m[L]});return y}function H(m,y,L){for(var R={},C=0;C<m.length;C+=1){var B=m[C],I=y[B.name];I===void 0||f(I,B.value)||(B.type==="SID"&&(I=g(I,L)),R[B.op]={name:B.name,type:B.type,value:I})}return R}function G(m,y){var L=new X.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return L.dict=H(Z,m,y),L}function U(m){var y=new X.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return y.topDicts=[{name:"topDict_0",type:"TABLE",value:m}],y}function w(m){var y=new X.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);y.strings=[];for(var L=0;L<m.length;L+=1)y.strings.push({name:"string_"+L,type:"STRING",value:m[L]});return y}function _(){return new X.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function k(m,y){for(var L=new X.Record("Charsets",[{name:"format",type:"Card8",value:0}]),R=0;R<m.length;R+=1){var C=m[R],B=g(C,y);L.fields.push({name:"glyph_"+R,type:"SID",value:B})}return L}function j(m){var y=[],L=m.path;y.push({name:"width",type:"NUMBER",value:m.advanceWidth});for(var R=0,C=0,B=0;B<L.commands.length;B+=1){var I,W,A=L.commands[B];if(A.type==="Q"){var D=1/3,Y=2/3;A={type:"C",x:A.x,y:A.y,x1:D*R+Y*A.x1,y1:D*C+Y*A.y1,x2:D*A.x+Y*A.x1,y2:D*A.y+Y*A.y1}}if(A.type==="M")I=Math.round(A.x-R),W=Math.round(A.y-C),y.push({name:"dx",type:"NUMBER",value:I}),y.push({name:"dy",type:"NUMBER",value:W}),y.push({name:"rmoveto",type:"OP",value:21}),R=Math.round(A.x),C=Math.round(A.y);else if(A.type==="L")I=Math.round(A.x-R),W=Math.round(A.y-C),y.push({name:"dx",type:"NUMBER",value:I}),y.push({name:"dy",type:"NUMBER",value:W}),y.push({name:"rlineto",type:"OP",value:5}),R=Math.round(A.x),C=Math.round(A.y);else if(A.type==="C"){var S=Math.round(A.x1-R),ee=Math.round(A.y1-C),re=Math.round(A.x2-A.x1),ne=Math.round(A.y2-A.y1);I=Math.round(A.x-A.x2),W=Math.round(A.y-A.y2),y.push({name:"dx1",type:"NUMBER",value:S}),y.push({name:"dy1",type:"NUMBER",value:ee}),y.push({name:"dx2",type:"NUMBER",value:re}),y.push({name:"dy2",type:"NUMBER",value:ne}),y.push({name:"dx",type:"NUMBER",value:I}),y.push({name:"dy",type:"NUMBER",value:W}),y.push({name:"rrcurveto",type:"OP",value:8}),R=Math.round(A.x),C=Math.round(A.y)}}return y.push({name:"endchar",type:"OP",value:14}),y}function M(m){for(var y=new X.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),L=0;L<m.length;L+=1){var R=m.get(L),C=j(R);y.charStrings.push({name:R.name,type:"CHARSTRING",value:C})}return y}function z(m,y){var L=new X.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return L.dict=H(V,m,y),L}function F(m,y){for(var L,R=new X.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),C=1/y.unitsPerEm,B={version:y.version,fullName:y.fullName,familyName:y.familyName,weight:y.weightName,fontBBox:y.fontBBox||[0,0,0,0],fontMatrix:[C,0,0,C,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},I={},W=[],A=1;A<m.length;A+=1)L=m.get(A),W.push(L.name);var D=[];R.header=T(),R.nameIndex=E([y.postScriptName]);var Y=G(B,D);R.topDictIndex=U(Y),R.globalSubrIndex=_(),R.charsets=k(W,D),R.charStringsIndex=M(m),R.privateDict=z(I,D),R.stringIndex=w(D);var S=R.header.sizeOf()+R.nameIndex.sizeOf()+R.topDictIndex.sizeOf()+R.stringIndex.sizeOf()+R.globalSubrIndex.sizeOf();return B.charset=S,B.encoding=0,B.charStrings=B.charset+R.charsets.sizeOf(),B.private[1]=B.charStrings+R.charStringsIndex.sizeOf(),Y=G(B,D),R.topDictIndex=U(Y),R}var K=b("../encoding"),$=b("../glyphset"),Q=b("../parse"),q=b("../path"),X=b("../table"),Z=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]}],V=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];h.parse=p,h.make=F},{"../encoding":4,"../glyphset":7,"../parse":10,"../path":11,"../table":13}],15:[function(b,O,h){function f(s,i){var o;i.parseUShort(),s.length=i.parseULong(),s.language=i.parseULong();var e;for(s.groupCount=e=i.parseULong(),s.glyphIndexMap={},o=0;e>o;o+=1)for(var l=i.parseULong(),u=i.parseULong(),p=i.parseULong(),g=l;u>=g;g+=1)s.glyphIndexMap[g]=p,p++}function c(s,i,o,e,l){var u;s.length=i.parseUShort(),s.language=i.parseUShort();var p;s.segCount=p=i.parseUShort()>>1,i.skip("uShort",3),s.glyphIndexMap={};var g=new n.Parser(o,e+l+14),T=new n.Parser(o,e+l+16+2*p),E=new n.Parser(o,e+l+16+4*p),H=new n.Parser(o,e+l+16+6*p),G=e+l+16+8*p;for(u=0;p-1>u;u+=1)for(var U,w=g.parseUShort(),_=T.parseUShort(),k=E.parseShort(),j=H.parseUShort(),M=_;w>=M;M+=1)j!==0?(G=H.offset+H.relativeOffset-2,G+=j,G+=2*(M-_),U=n.getUShort(o,G),U!==0&&(U=U+k&65535)):U=M+k&65535,s.glyphIndexMap[M]=U}function x(s,i){var o,e={};e.version=n.getUShort(s,i),r.argument(e.version===0,"cmap table version should be 0."),e.numTables=n.getUShort(s,i+2);var l=-1;for(o=e.numTables-1;o>=0;o-=1){var u=n.getUShort(s,i+4+8*o),p=n.getUShort(s,i+4+8*o+2);if(u===3&&(p===0||p===1||p===10)){l=n.getULong(s,i+4+8*o+4);break}}if(l===-1)return null;var g=new n.Parser(s,i+l);if(e.format=g.parseUShort(),e.format===12)f(e,g);else{if(e.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported.");c(e,g,s,i,l)}return e}function d(s,i,o){s.segments.push({end:i,start:i,delta:-(i-o),offset:0})}function v(s){s.segments.push({end:65535,start:65535,delta:1,offset:0})}function a(s){var i,o=new t.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);for(o.segments=[],i=0;i<s.length;i+=1){for(var e=s.get(i),l=0;l<e.unicodes.length;l+=1)d(o,e.unicodes[l],i);o.segments=o.segments.sort(function(U,w){return U.start-w.start})}v(o);var u;u=o.segments.length,o.segCountX2=2*u,o.searchRange=2*Math.pow(2,Math.floor(Math.log(u)/Math.log(2))),o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange;var p=[],g=[],T=[],E=[],H=[];for(i=0;u>i;i+=1){var G=o.segments[i];p=p.concat({name:"end_"+i,type:"USHORT",value:G.end}),g=g.concat({name:"start_"+i,type:"USHORT",value:G.start}),T=T.concat({name:"idDelta_"+i,type:"SHORT",value:G.delta}),E=E.concat({name:"idRangeOffset_"+i,type:"USHORT",value:G.offset}),G.glyphId!==void 0&&(H=H.concat({name:"glyph_"+i,type:"USHORT",value:G.glyphId}))}return o.fields=o.fields.concat(p),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(g),o.fields=o.fields.concat(T),o.fields=o.fields.concat(E),o.fields=o.fields.concat(H),o.length=14+2*p.length+2+2*g.length+2*T.length+2*E.length+2*H.length,o}var r=b("../check"),n=b("../parse"),t=b("../table");h.parse=x,h.make=a},{"../check":2,"../parse":10,"../table":13}],16:[function(b,O,h){function f(i,o){var e=JSON.stringify(i),l=256;for(var u in o){var p=parseInt(u);if(p&&!(256>p)){if(JSON.stringify(o[u])===e)return p;p>=l&&(l=p+1)}}return o[l]=i,l}function c(i,o,e){var l=f(o.name,e);return[{name:"tag_"+i,type:"TAG",value:o.tag},{name:"minValue_"+i,type:"FIXED",value:o.minValue<<16},{name:"defaultValue_"+i,type:"FIXED",value:o.defaultValue<<16},{name:"maxValue_"+i,type:"FIXED",value:o.maxValue<<16},{name:"flags_"+i,type:"USHORT",value:0},{name:"nameID_"+i,type:"USHORT",value:l}]}function x(i,o,e){var l={},u=new t.Parser(i,o);return l.tag=u.parseTag(),l.minValue=u.parseFixed(),l.defaultValue=u.parseFixed(),l.maxValue=u.parseFixed(),u.skip("uShort",1),l.name=e[u.parseUShort()]||{},l}function d(i,o,e,l){for(var u=f(o.name,l),p=[{name:"nameID_"+i,type:"USHORT",value:u},{name:"flags_"+i,type:"USHORT",value:0}],g=0;g<e.length;++g){var T=e[g].tag;p.push({name:"axis_"+i+" "+T,type:"FIXED",value:o.coordinates[T]<<16})}return p}function v(i,o,e,l){var u={},p=new t.Parser(i,o);u.name=l[p.parseUShort()]||{},p.skip("uShort",1),u.coordinates={};for(var g=0;g<e.length;++g)u.coordinates[e[g].tag]=p.parseFixed();return u}function a(i,o){var e=new s.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:i.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:i.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*i.axes.length}]);e.offsetToData=e.sizeOf();for(var l=0;l<i.axes.length;l++)e.fields=e.fields.concat(c(l,i.axes[l],o));for(var u=0;u<i.instances.length;u++)e.fields=e.fields.concat(d(u,i.instances[u],i.axes,o));return e}function r(i,o,e){var l=new t.Parser(i,o),u=l.parseULong();n.argument(u===65536,"Unsupported fvar table version.");var p=l.parseOffset16();l.skip("uShort",1);for(var g=l.parseUShort(),T=l.parseUShort(),E=l.parseUShort(),H=l.parseUShort(),G=[],U=0;g>U;U++)G.push(x(i,o+p+U*T,e));for(var w=[],_=o+p+g*T,k=0;E>k;k++)w.push(v(i,_+k*H,G,e));return{axes:G,instances:w}}var n=b("../check"),t=b("../parse"),s=b("../table");h.make=a,h.parse=r},{"../check":2,"../parse":10,"../table":13}],17:[function(b,O,h){function f(o,e,l,u,p){var g;return(e&u)>0?(g=o.parseByte(),(e&p)==0&&(g=-g),g=l+g):g=(e&p)>0?l:l+o.parseShort(),g}function c(o,e,l){var u=new s.Parser(e,l);o.numberOfContours=u.parseShort(),o._xMin=u.parseShort(),o._yMin=u.parseShort(),o._xMax=u.parseShort(),o._yMax=u.parseShort();var p,g;if(o.numberOfContours>0){var T,E=o.endPointIndices=[];for(T=0;T<o.numberOfContours;T+=1)E.push(u.parseUShort());for(o.instructionLength=u.parseUShort(),o.instructions=[],T=0;T<o.instructionLength;T+=1)o.instructions.push(u.parseByte());var H=E[E.length-1]+1;for(p=[],T=0;H>T;T+=1)if(g=u.parseByte(),p.push(g),(8&g)>0)for(var G=u.parseByte(),U=0;G>U;U+=1)p.push(g),T+=1;if(n.argument(p.length===H,"Bad flags."),E.length>0){var w,_=[];if(H>0){for(T=0;H>T;T+=1)g=p[T],w={},w.onCurve=!!(1&g),w.lastPointOfContour=E.indexOf(T)>=0,_.push(w);var k=0;for(T=0;H>T;T+=1)g=p[T],w=_[T],w.x=f(u,g,k,2,16),k=w.x;var j=0;for(T=0;H>T;T+=1)g=p[T],w=_[T],w.y=f(u,g,j,4,32),j=w.y}o.points=_}else o.points=[]}else if(o.numberOfContours===0)o.points=[];else{o.isComposite=!0,o.points=[],o.components=[];for(var M=!0;M;){p=u.parseUShort();var z={glyphIndex:u.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&p)>0?(2&p)>0?(z.dx=u.parseShort(),z.dy=u.parseShort()):z.matchedPoints=[u.parseUShort(),u.parseUShort()]:(2&p)>0?(z.dx=u.parseChar(),z.dy=u.parseChar()):z.matchedPoints=[u.parseByte(),u.parseByte()],(8&p)>0?z.xScale=z.yScale=u.parseF2Dot14():(64&p)>0?(z.xScale=u.parseF2Dot14(),z.yScale=u.parseF2Dot14()):(128&p)>0&&(z.xScale=u.parseF2Dot14(),z.scale01=u.parseF2Dot14(),z.scale10=u.parseF2Dot14(),z.yScale=u.parseF2Dot14()),o.components.push(z),M=!!(32&p)}}}function x(o,e){for(var l=[],u=0;u<o.length;u+=1){var p=o[u],g={x:e.xScale*p.x+e.scale01*p.y+e.dx,y:e.scale10*p.x+e.yScale*p.y+e.dy,onCurve:p.onCurve,lastPointOfContour:p.lastPointOfContour};l.push(g)}return l}function d(o){for(var e=[],l=[],u=0;u<o.length;u+=1){var p=o[u];l.push(p),p.lastPointOfContour&&(e.push(l),l=[])}return n.argument(l.length===0,"There are still points left in the current contour."),e}function v(o){var e=new i.Path;if(!o)return e;for(var l=d(o),u=0;u<l.length;u+=1){var p,g,T=l[u],E=T[0],H=T[T.length-1];E.onCurve?(p=null,g=!0):(E=H.onCurve?H:{x:(E.x+H.x)/2,y:(E.y+H.y)/2},p=E,g=!1),e.moveTo(E.x,E.y);for(var G=g?1:0;G<T.length;G+=1){var U=T[G],w=G===0?E:T[G-1];if(w.onCurve&&U.onCurve)e.lineTo(U.x,U.y);else if(w.onCurve&&!U.onCurve)p=U;else if(w.onCurve||U.onCurve){if(w.onCurve||!U.onCurve)throw new Error("Invalid state.");e.quadraticCurveTo(p.x,p.y,U.x,U.y),p=null}else{var _={x:(w.x+U.x)/2,y:(w.y+U.y)/2};e.quadraticCurveTo(w.x,w.y,_.x,_.y),p=U}}E!==H&&(p?e.quadraticCurveTo(p.x,p.y,E.x,E.y):e.lineTo(E.x,E.y))}return e.closePath(),e}function a(o,e){if(e.isComposite)for(var l=0;l<e.components.length;l+=1){var u=e.components[l],p=o.get(u.glyphIndex);if(p.getPath(),p.points){var g;if(u.matchedPoints===void 0)g=x(p.points,u);else{if(u.matchedPoints[0]>e.points.length-1||u.matchedPoints[1]>p.points.length-1)throw Error("Matched points out of range in "+e.name);var T=e.points[u.matchedPoints[0]],E=p.points[u.matchedPoints[1]],H={xScale:u.xScale,scale01:u.scale01,scale10:u.scale10,yScale:u.yScale,dx:0,dy:0};E=x([E],H)[0],H.dx=T.x-E.x,H.dy=T.y-E.y,g=x(p.points,H)}e.points=e.points.concat(g)}}return v(e.points)}function r(o,e,l,u){var p,g=new t.GlyphSet(u);for(p=0;p<l.length-1;p+=1){var T=l[p],E=l[p+1];T!==E?g.push(p,t.ttfGlyphLoader(u,p,c,o,e+T,a)):g.push(p,t.glyphLoader(u,p))}return g}var n=b("../check"),t=b("../glyphset"),s=b("../parse"),i=b("../path");h.parse=r},{"../check":2,"../glyphset":7,"../parse":10,"../path":11}],18:[function(b,O,h){function f(t,s){for(var i=new n.Parser(t,s),o=i.parseUShort(),e=[],l=0;o>l;l++)e[i.parseTag()]={offset:i.parseUShort()};return e}function c(t,s){var i=new n.Parser(t,s),o=i.parseUShort(),e=i.parseUShort();if(o===1)return i.parseUShortList(e);if(o===2){for(var l=[];e--;)for(var u=i.parseUShort(),p=i.parseUShort(),g=i.parseUShort(),T=u;p>=T;T++)l[g++]=T;return l}}function x(t,s){var i=new n.Parser(t,s),o=i.parseUShort();if(o===1){var e=i.parseUShort(),l=i.parseUShort(),u=i.parseUShortList(l);return function(G){return u[G-e]||0}}if(o===2){for(var p=i.parseUShort(),g=[],T=[],E=[],H=0;p>H;H++)g[H]=i.parseUShort(),T[H]=i.parseUShort(),E[H]=i.parseUShort();return function(G){for(var U=0,w=g.length-1;w>U;){var _=U+w+1>>1;G<g[_]?w=_-1:U=_}return g[U]<=G&&G<=T[U]&&E[U]||0}}}function d(t,s){var i,o=new n.Parser(t,s),e=o.parseUShort(),l=o.parseUShort(),u=c(t,s+l),p=o.parseUShort(),g=o.parseUShort();if(p===4&&g===0){var T={};if(e===1){for(var E=o.parseUShort(),H=[],G=o.parseOffset16List(E),U=0;E>U;U++){var w=G[U],_=T[w];if(!_){_={},o.relativeOffset=w;for(var k=o.parseUShort();k--;){var j=o.parseUShort();p&&(i=o.parseShort()),g&&o.parseShort(),_[j]=i}}H[u[U]]=_}return function(y,L){var R=H[y];return R?R[L]:void 0}}if(e===2){for(var M=o.parseUShort(),z=o.parseUShort(),F=o.parseUShort(),K=o.parseUShort(),$=x(t,s+M),Q=x(t,s+z),q=[],X=0;F>X;X++)for(var Z=q[X]=[],V=0;K>V;V++)p&&(i=o.parseShort()),g&&o.parseShort(),Z[V]=i;var m={};for(X=0;X<u.length;X++)m[u[X]]=1;return function(y,L){if(m[y]){var R=$(y),C=Q(L),B=q[R];return B?B[C]:void 0}}}}}function v(t,s){var i=new n.Parser(t,s),o=i.parseUShort(),e=i.parseUShort(),l=16&e,u=i.parseUShort(),p=i.parseOffset16List(u),g={lookupType:o,lookupFlag:e,markFilteringSet:l?i.parseUShort():-1};if(o===2){for(var T=[],E=0;u>E;E++)T.push(d(t,s+p[E]));g.getKerningValue=function(H,G){for(var U=T.length;U--;){var w=T[U](H,G);if(w!==void 0)return w}return 0}}return g}function a(t,s,i){var o=new n.Parser(t,s),e=o.parseFixed();r.argument(e===1,"Unsupported GPOS table version."),f(t,s+o.parseUShort()),f(t,s+o.parseUShort());var l=o.parseUShort();o.relativeOffset=l;for(var u=o.parseUShort(),p=o.parseOffset16List(u),g=s+l,T=0;u>T;T++){var E=v(t,g+p[T]);E.lookupType!==2||i.getGposKerningValue||(i.getGposKerningValue=E.getKerningValue)}}var r=b("../check"),n=b("../parse");h.parse=a},{"../check":2,"../parse":10}],19:[function(b,O,h){function f(t,s){s=s||0;var i=new d(t,s),o=i.parseVersion();return x.argument(o===1,"Unsupported GSUB table version."),{version:o,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(v)}}function c(t){return new a.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new a.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new a.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new a.LookupList(t.lookups,n)}])}var x=b("../check"),d=b("../parse").Parser,v=new Array(9),a=b("../table");v[1]=function(){var t=this.offset+this.relativeOffset,s=this.parseUShort();return s===1?{substFormat:1,coverage:this.parsePointer(d.coverage),deltaGlyphId:this.parseUShort()}:s===2?{substFormat:2,coverage:this.parsePointer(d.coverage),substitute:this.parseOffset16List()}:void x.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")},v[2]=function(){var t=this.parseUShort();return x.argument(t===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(d.coverage),sequences:this.parseListOfLists()}},v[3]=function(){var t=this.parseUShort();return x.argument(t===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(d.coverage),alternateSets:this.parseListOfLists()}},v[4]=function(){var t=this.parseUShort();return x.argument(t===1,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(d.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var r={sequenceIndex:d.uShort,lookupListIndex:d.uShort};v[5]=function(){var t=this.offset+this.relativeOffset,s=this.parseUShort();if(s===1)return{substFormat:s,coverage:this.parsePointer(d.coverage),ruleSets:this.parseListOfLists(function(){var e=this.parseUShort(),l=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(l,r)}})};if(s===2)return{substFormat:s,coverage:this.parsePointer(d.coverage),classDef:this.parsePointer(d.classDef),classSets:this.parseListOfLists(function(){var e=this.parseUShort(),l=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(l,r)}})};if(s===3){var i=this.parseUShort(),o=this.parseUShort();return{substFormat:s,coverages:this.parseList(i,d.pointer(d.coverage)),lookupRecords:this.parseRecordList(o,r)}}x.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},v[6]=function(){var t=this.offset+this.relativeOffset,s=this.parseUShort();return s===1?{substFormat:1,coverage:this.parsePointer(d.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(r)}})}:s===2?{substFormat:2,coverage:this.parsePointer(d.coverage),backtrackClassDef:this.parsePointer(d.classDef),inputClassDef:this.parsePointer(d.classDef),lookaheadClassDef:this.parsePointer(d.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(r)}})}:s===3?{substFormat:3,backtrackCoverage:this.parseList(d.pointer(d.coverage)),inputCoverage:this.parseList(d.pointer(d.coverage)),lookaheadCoverage:this.parseList(d.pointer(d.coverage)),lookupRecords:this.parseRecordList(r)}:void x.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},v[7]=function(){var t=this.parseUShort();x.argument(t===1,"GSUB Extension Substitution subtable identifier-format must be 1");var s=this.parseUShort(),i=new d(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:s,extension:v[s].call(i)}},v[8]=function(){var t=this.parseUShort();return x.argument(t===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(d.coverage),backtrackCoverage:this.parseList(d.pointer(d.coverage)),lookaheadCoverage:this.parseList(d.pointer(d.coverage)),substitutes:this.parseUShortList()}};var n=new Array(9);n[1]=function(t){return t.substFormat===1?new a.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new a.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new a.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new a.Coverage(t.coverage)}].concat(a.ushortList("substitute",t.substitute)))},n[3]=function(t){return x.assert(t.substFormat===1,"Lookup type 3 substFormat must be 1."),new a.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new a.Coverage(t.coverage)}].concat(a.tableList("altSet",t.alternateSets,function(s){return new a.Table("alternateSetTable",a.ushortList("alternate",s))})))},n[4]=function(t){return x.assert(t.substFormat===1,"Lookup type 4 substFormat must be 1."),new a.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new a.Coverage(t.coverage)}].concat(a.tableList("ligSet",t.ligatureSets,function(s){return new a.Table("ligatureSetTable",a.tableList("ligature",s,function(i){return new a.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:i.ligGlyph}].concat(a.ushortList("component",i.components,i.components.length+1)))}))})))},h.parse=f,h.make=c},{"../check":2,"../parse":10,"../table":13}],20:[function(b,O,h){function f(a,r){var n={},t=new d.Parser(a,r);return n.version=t.parseVersion(),n.fontRevision=Math.round(1e3*t.parseFixed())/1e3,n.checkSumAdjustment=t.parseULong(),n.magicNumber=t.parseULong(),x.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=t.parseUShort(),n.unitsPerEm=t.parseUShort(),n.created=t.parseLongDateTime(),n.modified=t.parseLongDateTime(),n.xMin=t.parseShort(),n.yMin=t.parseShort(),n.xMax=t.parseShort(),n.yMax=t.parseShort(),n.macStyle=t.parseUShort(),n.lowestRecPPEM=t.parseUShort(),n.fontDirectionHint=t.parseShort(),n.indexToLocFormat=t.parseShort(),n.glyphDataFormat=t.parseShort(),n}function c(a){var r=Math.round(new Date().getTime()/1e3)+2082844800,n=r;return a.createdTimestamp&&(n=a.createdTimestamp+2082844800),new v.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:r},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],a)}var x=b("../check"),d=b("../parse"),v=b("../table");h.parse=f,h.make=c},{"../check":2,"../parse":10,"../table":13}],21:[function(b,O,h){function f(v,a){var r={},n=new x.Parser(v,a);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r}function c(v){return new d.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],v)}var x=b("../parse"),d=b("../table");h.parse=f,h.make=c},{"../parse":10,"../table":13}],22:[function(b,O,h){function f(v,a,r,n,t){for(var s,i,o=new x.Parser(v,a),e=0;n>e;e+=1){r>e&&(s=o.parseUShort(),i=o.parseShort());var l=t.get(e);l.advanceWidth=s,l.leftSideBearing=i}}function c(v){for(var a=new d.Table("hmtx",[]),r=0;r<v.length;r+=1){var n=v.get(r),t=n.advanceWidth||0,s=n.leftSideBearing||0;a.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:t}),a.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:s})}return a}var x=b("../parse"),d=b("../table");h.parse=f,h.make=c},{"../parse":10,"../table":13}],23:[function(b,O,h){function f(d,v){var a={},r=new x.Parser(d,v),n=r.parseUShort();c.argument(n===0,"Unsupported kern table version."),r.skip("uShort",1);var t=r.parseUShort();c.argument(t===0,"Unsupported kern sub-table version."),r.skip("uShort",2);var s=r.parseUShort();r.skip("uShort",3);for(var i=0;s>i;i+=1){var o=r.parseUShort(),e=r.parseUShort(),l=r.parseShort();a[o+","+e]=l}return a}var c=b("../check"),x=b("../parse");h.parse=f},{"../check":2,"../parse":10}],24:[function(b,O,h){function f(x,d,v,a){for(var r=new c.Parser(x,d),n=a?r.parseUShort:r.parseULong,t=[],s=0;v+1>s;s+=1){var i=n.call(r);a&&(i*=2),t.push(i)}return t}var c=b("../parse");h.parse=f},{"../parse":10}],25:[function(b,O,h){function f(a){for(var r=new v.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:a.length}]),n="",t=12+4*a.length,s=0;s<a.length;++s){var i=n.indexOf(a[s]);0>i&&(i=n.length,n+=a[s]),r.fields.push({name:"offset "+s,type:"USHORT",value:t+i}),r.fields.push({name:"length "+s,type:"USHORT",value:a[s].length})}return r.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),r}function c(a,r){var n=new d.Parser(a,r),t=n.parseULong();x.argument(t===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var s=n.parseULong(),i=[],o=0;s>o;o++){for(var e="",l=r+n.parseUShort(),u=n.parseUShort(),p=l;l+u>p;++p)e+=String.fromCharCode(a.getInt8(p));i.push(e)}return i}var x=b("../check"),d=b("../parse"),v=b("../table");h.make=f,h.parse=c},{"../check":2,"../parse":10,"../table":13}],26:[function(b,O,h){function f(v,a){var r={},n=new x.Parser(v,a);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),r.version===1&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r}function c(v){return new d.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:v}])}var x=b("../parse"),d=b("../table");h.parse=f,h.make=c},{"../parse":10,"../table":13}],27:[function(b,O,h){function f(n,t){var s=new a.Parser(n,t),i=s.parseULong();v.argument(i===1,"Unsupported META table version."),s.parseULong(),s.parseULong();for(var o=s.parseULong(),e={},l=0;o>l;l++){var u=s.parseTag(),p=s.parseULong(),g=s.parseULong(),T=d.UTF8(n,t+p,g);e[u]=T}return e}function c(n){var t=Object.keys(n).length,s="",i=16+12*t,o=new r.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:t}]);for(var e in n){var l=s.length;s+=n[e],o.fields.push({name:"tag "+e,type:"TAG",value:e}),o.fields.push({name:"offset "+e,type:"ULONG",value:i+l}),o.fields.push({name:"length "+e,type:"ULONG",value:n[e].length})}return o.fields.push({name:"stringPool",type:"CHARARRAY",value:s}),o}var x=b("../types"),d=x.decode,v=b("../check"),a=b("../parse"),r=b("../table");h.parse=f,h.make=c},{"../check":2,"../parse":10,"../table":13,"../types":32}],28:[function(b,O,h){function f(G,U,w){switch(G){case 0:if(U===65535)return"und";if(w)return w[U];break;case 1:return u[U];case 3:return g[U]}}function c(G,U,w){switch(G){case 0:return T;case 1:return H[w]||E[U];case 3:if(U===1||U===10)return T}}function x(G,U,w){for(var _={},k=new o.Parser(G,U),j=k.parseUShort(),M=k.parseUShort(),z=k.offset+k.parseUShort(),F=0;M>F;F++){var K=k.parseUShort(),$=k.parseUShort(),Q=k.parseUShort(),q=k.parseUShort(),X=l[q]||q,Z=k.parseUShort(),V=k.parseUShort(),m=f(K,Q,w),y=c(K,$,Q);if(y!==void 0&&m!==void 0){var L;if(L=y===T?s.UTF16(G,z+V,Z):s.MACSTRING(G,z+V,Z,y)){var R=_[X];R===void 0&&(R=_[X]={}),R[m]=L}}}return j===1&&k.parseUShort(),_}function d(G){var U={};for(var w in G)U[G[w]]=parseInt(w);return U}function v(G,U,w,_,k,j){return new e.Record("NameRecord",[{name:"platformID",type:"USHORT",value:G},{name:"encodingID",type:"USHORT",value:U},{name:"languageID",type:"USHORT",value:w},{name:"nameID",type:"USHORT",value:_},{name:"length",type:"USHORT",value:k},{name:"offset",type:"USHORT",value:j}])}function a(G,U){var w=G.length,_=U.length-w+1;e:for(var k=0;_>k;k++)for(;_>k;k++){for(var j=0;w>j;j++)if(U[k+j]!==G[j])continue e;return k}return-1}function r(G,U){var w=a(G,U);if(0>w){w=U.length;for(var _=0,k=G.length;k>_;++_)U.push(G[_])}return w}function n(G,U){var w,_=[],k={},j=d(l);for(var M in G){var z=j[M];if(z===void 0&&(z=M),w=parseInt(z),isNaN(w))throw new Error('Name table entry "'+M+'" does not exist, see nameTableNames for complete list.');k[w]=G[M],_.push(w)}for(var F=d(u),K=d(g),$=[],Q=[],q=0;q<_.length;q++){w=_[q];var X=k[w];for(var Z in X){var V=X[Z],m=1,y=F[Z],L=p[y],R=c(m,L,y),C=i.MACSTRING(V,R);C===void 0&&(m=0,y=U.indexOf(Z),0>y&&(y=U.length,U.push(Z)),L=4,C=i.UTF16(V));var B=r(C,Q);$.push(v(m,L,y,w,C.length,B));var I=K[Z];if(I!==void 0){var W=i.UTF16(V),A=r(W,Q);$.push(v(3,1,I,w,W.length,A))}}}$.sort(function(S,ee){return S.platformID-ee.platformID||S.encodingID-ee.encodingID||S.languageID-ee.languageID||S.nameID-ee.nameID});for(var D=new e.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:$.length},{name:"stringOffset",type:"USHORT",value:6+12*$.length}]),Y=0;Y<$.length;Y++)D.fields.push({name:"record_"+Y,type:"RECORD",value:$[Y]});return D.fields.push({name:"strings",type:"LITERAL",value:Q}),D}var t=b("../types"),s=t.decode,i=t.encode,o=b("../parse"),e=b("../table"),l=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],u={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},p={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},g={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},T="utf-16",E={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},H={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};h.parse=x,h.make=n},{"../parse":10,"../table":13,"../types":32}],29:[function(b,O,h){function f(r){for(var n=0;n<a.length;n+=1){var t=a[n];if(r>=t.begin&&r<t.end)return n}return-1}function c(r,n){var t={},s=new d.Parser(r,n);t.version=s.parseUShort(),t.xAvgCharWidth=s.parseShort(),t.usWeightClass=s.parseUShort(),t.usWidthClass=s.parseUShort(),t.fsType=s.parseUShort(),t.ySubscriptXSize=s.parseShort(),t.ySubscriptYSize=s.parseShort(),t.ySubscriptXOffset=s.parseShort(),t.ySubscriptYOffset=s.parseShort(),t.ySuperscriptXSize=s.parseShort(),t.ySuperscriptYSize=s.parseShort(),t.ySuperscriptXOffset=s.parseShort(),t.ySuperscriptYOffset=s.parseShort(),t.yStrikeoutSize=s.parseShort(),t.yStrikeoutPosition=s.parseShort(),t.sFamilyClass=s.parseShort(),t.panose=[];for(var i=0;10>i;i++)t.panose[i]=s.parseByte();return t.ulUnicodeRange1=s.parseULong(),t.ulUnicodeRange2=s.parseULong(),t.ulUnicodeRange3=s.parseULong(),t.ulUnicodeRange4=s.parseULong(),t.achVendID=String.fromCharCode(s.parseByte(),s.parseByte(),s.parseByte(),s.parseByte()),t.fsSelection=s.parseUShort(),t.usFirstCharIndex=s.parseUShort(),t.usLastCharIndex=s.parseUShort(),t.sTypoAscender=s.parseShort(),t.sTypoDescender=s.parseShort(),t.sTypoLineGap=s.parseShort(),t.usWinAscent=s.parseUShort(),t.usWinDescent=s.parseUShort(),t.version>=1&&(t.ulCodePageRange1=s.parseULong(),t.ulCodePageRange2=s.parseULong()),t.version>=2&&(t.sxHeight=s.parseShort(),t.sCapHeight=s.parseShort(),t.usDefaultChar=s.parseUShort(),t.usBreakChar=s.parseUShort(),t.usMaxContent=s.parseUShort()),t}function x(r){return new v.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],r)}var d=b("../parse"),v=b("../table"),a=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];h.unicodeRanges=a,h.getUnicodeRange=f,h.parse=c,h.make=x},{"../parse":10,"../table":13}],30:[function(b,O,h){function f(a,r){var n,t={},s=new d.Parser(a,r);switch(t.version=s.parseVersion(),t.italicAngle=s.parseFixed(),t.underlinePosition=s.parseShort(),t.underlineThickness=s.parseShort(),t.isFixedPitch=s.parseULong(),t.minMemType42=s.parseULong(),t.maxMemType42=s.parseULong(),t.minMemType1=s.parseULong(),t.maxMemType1=s.parseULong(),t.version){case 1:t.names=x.standardNames.slice();break;case 2:for(t.numberOfGlyphs=s.parseUShort(),t.glyphNameIndex=new Array(t.numberOfGlyphs),n=0;n<t.numberOfGlyphs;n++)t.glyphNameIndex[n]=s.parseUShort();for(t.names=[],n=0;n<t.numberOfGlyphs;n++)if(t.glyphNameIndex[n]>=x.standardNames.length){var i=s.parseChar();t.names.push(s.parseString(i))}break;case 2.5:for(t.numberOfGlyphs=s.parseUShort(),t.offset=new Array(t.numberOfGlyphs),n=0;n<t.numberOfGlyphs;n++)t.offset[n]=s.parseChar()}return t}function c(){return new v.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var x=b("../encoding"),d=b("../parse"),v=b("../table");h.parse=f,h.make=c},{"../encoding":4,"../parse":10,"../table":13}],31:[function(b,O,h){function f(U){return Math.log(U)/Math.log(2)|0}function c(U){for(;U.length%4!=0;)U.push(0);for(var w=0,_=0;_<U.length;_+=4)w+=(U[_]<<24)+(U[_+1]<<16)+(U[_+2]<<8)+U[_+3];return w%=Math.pow(2,32)}function x(U,w,_,k){return new t.Record("Table Record",[{name:"tag",type:"TAG",value:U!==void 0?U:""},{name:"checkSum",type:"ULONG",value:w!==void 0?w:0},{name:"offset",type:"ULONG",value:_!==void 0?_:0},{name:"length",type:"ULONG",value:k!==void 0?k:0}])}function d(U){var w=new t.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);w.tables=U,w.numTables=U.length;var _=Math.pow(2,f(w.numTables));w.searchRange=16*_,w.entrySelector=f(_),w.rangeShift=16*w.numTables-w.searchRange;for(var k=[],j=[],M=w.sizeOf()+x().sizeOf()*w.numTables;M%4!=0;)M+=1,j.push({name:"padding",type:"BYTE",value:0});for(var z=0;z<U.length;z+=1){var F=U[z];n.argument(F.tableName.length===4,"Table name"+F.tableName+" is invalid.");var K=F.sizeOf(),$=x(F.tableName,c(F.encode()),M,K);for(k.push({name:$.tag+" Table Record",type:"RECORD",value:$}),j.push({name:F.tableName+" table",type:"RECORD",value:F}),M+=K,n.argument(!isNaN(M),"Something went wrong calculating the offset.");M%4!=0;)M+=1,j.push({name:"padding",type:"BYTE",value:0})}return k.sort(function(Q,q){return Q.value.tag>q.value.tag?1:-1}),w.fields=w.fields.concat(k),w.fields=w.fields.concat(j),w}function v(U,w,_){for(var k=0;k<w.length;k+=1){var j=U.charToGlyphIndex(w[k]);if(j>0){var M=U.glyphs.get(j);return M.getMetrics()}}return _}function a(U){for(var w=0,_=0;_<U.length;_+=1)w+=U[_];return w/U.length}function r(U){for(var w,_=[],k=[],j=[],M=[],z=[],F=[],K=[],$=0,Q=0,q=0,X=0,Z=0,V=0;V<U.glyphs.length;V+=1){var m=U.glyphs.get(V),y=0|m.unicode;if(isNaN(m.advanceWidth))throw new Error("Glyph "+m.name+" ("+V+"): advanceWidth is not a number.");(w>y||w===void 0)&&y>0&&(w=y),y>$&&($=y);var L=T.getUnicodeRange(y);if(32>L)Q|=1<<L;else if(64>L)q|=1<<L-32;else if(96>L)X|=1<<L-64;else{if(!(123>L))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Z|=1<<L-96}if(m.name!==".notdef"){var R=m.getMetrics();_.push(R.xMin),k.push(R.yMin),j.push(R.xMax),M.push(R.yMax),F.push(R.leftSideBearing),K.push(R.rightSideBearing),z.push(m.advanceWidth)}}var C={xMin:Math.min.apply(null,_),yMin:Math.min.apply(null,k),xMax:Math.max.apply(null,j),yMax:Math.max.apply(null,M),advanceWidthMax:Math.max.apply(null,z),advanceWidthAvg:a(z),minLeftSideBearing:Math.min.apply(null,F),maxLeftSideBearing:Math.max.apply(null,F),minRightSideBearing:Math.min.apply(null,K)};C.ascender=U.ascender,C.descender=U.descender;var B=o.make({flags:3,unitsPerEm:U.unitsPerEm,xMin:C.xMin,yMin:C.yMin,xMax:C.xMax,yMax:C.yMax,lowestRecPPEM:3,createdTimestamp:U.createdTimestamp}),I=e.make({ascender:C.ascender,descender:C.descender,advanceWidthMax:C.advanceWidthMax,minLeftSideBearing:C.minLeftSideBearing,minRightSideBearing:C.minRightSideBearing,xMaxExtent:C.maxLeftSideBearing+(C.xMax-C.xMin),numberOfHMetrics:U.glyphs.length}),W=p.make(U.glyphs.length),A=T.make({xAvgCharWidth:Math.round(C.advanceWidthAvg),usWeightClass:U.tables.os2.usWeightClass,usWidthClass:U.tables.os2.usWidthClass,usFirstCharIndex:w,usLastCharIndex:$,ulUnicodeRange1:Q,ulUnicodeRange2:q,ulUnicodeRange3:X,ulUnicodeRange4:Z,fsSelection:U.tables.os2.fsSelection,sTypoAscender:C.ascender,sTypoDescender:C.descender,sTypoLineGap:0,usWinAscent:C.yMax,usWinDescent:Math.abs(C.yMin),ulCodePageRange1:1,sxHeight:v(U,"xyvw",{yMax:Math.round(C.ascender/2)}).yMax,sCapHeight:v(U,"HIKLEFJMNTZBDPRAGOQSUVWXY",C).yMax,usDefaultChar:U.hasChar(" ")?32:0,usBreakChar:U.hasChar(" ")?32:0}),D=l.make(U.glyphs),Y=s.make(U.glyphs),S=U.getEnglishName("fontFamily"),ee=U.getEnglishName("fontSubfamily"),re=S+" "+ee,ne=U.getEnglishName("postScriptName");ne||(ne=S.replace(/\s/g,"")+"-"+ee);var te={};for(var N in U.names)te[N]=U.names[N];te.uniqueID||(te.uniqueID={en:U.getEnglishName("manufacturer")+":"+re}),te.postScriptName||(te.postScriptName={en:ne}),te.preferredFamily||(te.preferredFamily=U.names.fontFamily),te.preferredSubfamily||(te.preferredSubfamily=U.names.fontSubfamily);var P=[],ae=g.make(te,P),ce=P.length>0?u.make(P):void 0,me=E.make(),ve=i.make(U.glyphs,{version:U.getEnglishName("version"),fullName:re,familyName:S,weightName:ee,postScriptName:ne,unitsPerEm:U.unitsPerEm,fontBBox:[0,C.yMin,C.ascender,C.advanceWidthMax]}),ye=U.metas&&Object.keys(U.metas).length>0?G.make(U.metas):void 0,fe=[B,I,W,A,ae,Y,me,ve,D];ce&&fe.push(ce),U.tables.gsub&&fe.push(H.make(U.tables.gsub)),ye&&fe.push(ye);var he=d(fe),oe=he.encode(),pe=c(oe),se=he.fields,le=!1;for(V=0;V<se.length;V+=1)if(se[V].name==="head table"){se[V].value.checkSumAdjustment=2981146554-pe,le=!0;break}if(!le)throw new Error("Could not find head table with checkSum to adjust.");return he}var n=b("../check"),t=b("../table"),s=b("./cmap"),i=b("./cff"),o=b("./head"),e=b("./hhea"),l=b("./hmtx"),u=b("./ltag"),p=b("./maxp"),g=b("./name"),T=b("./os2"),E=b("./post"),H=b("./gsub"),G=b("./meta");h.computeCheckSum=c,h.make=d,h.fontToTable=r},{"../check":2,"../table":13,"./cff":14,"./cmap":15,"./gsub":19,"./head":20,"./hhea":21,"./hmtx":22,"./ltag":25,"./maxp":26,"./meta":27,"./name":28,"./os2":29,"./post":30}],32:[function(b,O,h){function f(e){return function(){return e}}var c=b("./check"),x=32768,d=2147483648,v={},a={},r={};a.BYTE=function(e){return c.argument(e>=0&&255>=e,"Byte value should be between 0 and 255."),[e]},r.BYTE=f(1),a.CHAR=function(e){return[e.charCodeAt(0)]},r.CHAR=f(1),a.CHARARRAY=function(e){for(var l=[],u=0;u<e.length;u+=1)l[u]=e.charCodeAt(u);return l},r.CHARARRAY=function(e){return e.length},a.USHORT=function(e){return[e>>8&255,255&e]},r.USHORT=f(2),a.SHORT=function(e){return e>=x&&(e=-(2*x-e)),[e>>8&255,255&e]},r.SHORT=f(2),a.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},r.UINT24=f(3),a.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},r.ULONG=f(4),a.LONG=function(e){return e>=d&&(e=-(2*d-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},r.LONG=f(4),a.FIXED=a.ULONG,r.FIXED=r.ULONG,a.FWORD=a.SHORT,r.FWORD=r.SHORT,a.UFWORD=a.USHORT,r.UFWORD=r.USHORT,a.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},r.LONGDATETIME=f(8),a.TAG=function(e){return c.argument(e.length===4,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},r.TAG=f(4),a.Card8=a.BYTE,r.Card8=r.BYTE,a.Card16=a.USHORT,r.Card16=r.USHORT,a.OffSize=a.BYTE,r.OffSize=r.BYTE,a.SID=a.USHORT,r.SID=r.USHORT,a.NUMBER=function(e){return e>=-107&&107>=e?[e+139]:e>=108&&1131>=e?(e-=108,[(e>>8)+247,255&e]):e>=-1131&&-108>=e?(e=-e-108,[(e>>8)+251,255&e]):e>=-32768&&32767>=e?a.NUMBER16(e):a.NUMBER32(e)},r.NUMBER=function(e){return a.NUMBER(e).length},a.NUMBER16=function(e){return[28,e>>8&255,255&e]},r.NUMBER16=f(3),a.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},r.NUMBER32=f(5),a.REAL=function(e){var l=e.toString(),u=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(l);if(u){var p=parseFloat("1e"+((u[2]?+u[2]:0)+u[1].length));l=(Math.round(e*p)/p).toString()}var g,T,E="";for(g=0,T=l.length;T>g;g+=1){var H=l[g];E+=H==="e"?l[++g]==="-"?"c":"b":H==="."?"a":H==="-"?"e":H}E+=1&E.length?"f":"ff";var G=[30];for(g=0,T=E.length;T>g;g+=2)G.push(parseInt(E.substr(g,2),16));return G},r.REAL=function(e){return a.REAL(e).length},a.NAME=a.CHARARRAY,r.NAME=r.CHARARRAY,a.STRING=a.CHARARRAY,r.STRING=r.CHARARRAY,v.UTF8=function(e,l,u){for(var p=[],g=u,T=0;g>T;T++,l+=1)p[T]=e.getUint8(l);return String.fromCharCode.apply(null,p)},v.UTF16=function(e,l,u){for(var p=[],g=u/2,T=0;g>T;T++,l+=2)p[T]=e.getUint16(l);return String.fromCharCode.apply(null,p)},a.UTF16=function(e){for(var l=[],u=0;u<e.length;u+=1){var p=e.charCodeAt(u);l[l.length]=p>>8&255,l[l.length]=255&p}return l},r.UTF16=function(e){return 2*e.length};var n={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"};v.MACSTRING=function(e,l,u,p){var g=n[p];if(g!==void 0){for(var T="",E=0;u>E;E++){var H=e.getUint8(l+E);T+=127>=H?String.fromCharCode(H):g[127&H]}return T}};var t=typeof WeakMap=="function"&&new WeakMap,s,i=function(e){if(!s){s={};for(var l in n)s[l]=new String(l)}var u=s[e];if(u!==void 0){if(t){var p=t.get(u);if(p!==void 0)return p}var g=n[e];if(g!==void 0){for(var T={},E=0;E<g.length;E++)T[g.charCodeAt(E)]=E+128;return t&&t.set(u,T),T}}};a.MACSTRING=function(e,l){var u=i(l);if(u!==void 0){for(var p=[],g=0;g<e.length;g++){var T=e.charCodeAt(g);if(T>=128&&(T=u[T],T===void 0))return;p[g]=T}return p}},r.MACSTRING=function(e,l){var u=a.MACSTRING(e,l);return u!==void 0?u.length:0},a.INDEX=function(e){var l,u=1,p=[u],g=[];for(l=0;l<e.length;l+=1){var T=a.OBJECT(e[l]);Array.prototype.push.apply(g,T),u+=T.length,p.push(u)}if(g.length===0)return[0,0];var E=[],H=1+Math.floor(Math.log(u)/Math.log(2))/8|0,G=[void 0,a.BYTE,a.USHORT,a.UINT24,a.ULONG][H];for(l=0;l<p.length;l+=1){var U=G(p[l]);Array.prototype.push.apply(E,U)}return Array.prototype.concat(a.Card16(e.length),a.OffSize(H),E,g)},r.INDEX=function(e){return a.INDEX(e).length},a.DICT=function(e){for(var l=[],u=Object.keys(e),p=u.length,g=0;p>g;g+=1){var T=parseInt(u[g],0),E=e[T];l=l.concat(a.OPERAND(E.value,E.type)),l=l.concat(a.OPERATOR(T))}return l},r.DICT=function(e){return a.DICT(e).length},a.OPERATOR=function(e){return 1200>e?[e]:[12,e-1200]},a.OPERAND=function(e,l){var u=[];if(Array.isArray(l))for(var p=0;p<l.length;p+=1)c.argument(e.length===l.length,"Not enough arguments given for type"+l),u=u.concat(a.OPERAND(e[p],l[p]));else if(l==="SID")u=u.concat(a.NUMBER(e));else if(l==="offset")u=u.concat(a.NUMBER32(e));else if(l==="number")u=u.concat(a.NUMBER(e));else{if(l!=="real")throw new Error("Unknown operand type "+l);u=u.concat(a.REAL(e))}return u},a.OP=a.BYTE,r.OP=r.BYTE;var o=typeof WeakMap=="function"&&new WeakMap;a.CHARSTRING=function(e){if(o){var l=o.get(e);if(l!==void 0)return l}for(var u=[],p=e.length,g=0;p>g;g+=1){var T=e[g];u=u.concat(a[T.type](T.value))}return o&&o.set(e,u),u},r.CHARSTRING=function(e){return a.CHARSTRING(e).length},a.OBJECT=function(e){var l=a[e.type];return c.argument(l!==void 0,"No encoding function for type "+e.type),l(e.value)},r.OBJECT=function(e){var l=r[e.type];return c.argument(l!==void 0,"No sizeOf function for type "+e.type),l(e.value)},a.TABLE=function(e){var l,u=[],p=e.fields.length,g=[],T=[];for(l=0;p>l;l+=1){var E=e.fields[l],H=a[E.type];c.argument(H!==void 0,"No encoding function for field type "+E.type+" ("+E.name+")");var G=e[E.name];G===void 0&&(G=E.value);var U=H(G);E.type==="TABLE"?(T.push(u.length),u=u.concat([0,0]),g.push(U)):u=u.concat(U)}for(l=0;l<g.length;l+=1){var w=T[l],_=u.length;c.argument(65536>_,"Table "+e.tableName+" too big."),u[w]=_>>8,u[w+1]=255&_,u=u.concat(g[l])}return u},r.TABLE=function(e){for(var l=0,u=e.fields.length,p=0;u>p;p+=1){var g=e.fields[p],T=r[g.type];c.argument(T!==void 0,"No sizeOf function for field type "+g.type+" ("+g.name+")");var E=e[g.name];E===void 0&&(E=g.value),l+=T(E),g.type==="TABLE"&&(l+=2)}return l},a.RECORD=a.TABLE,r.RECORD=r.TABLE,a.LITERAL=function(e){return e},r.LITERAL=function(e){return e.length},h.decode=v,h.encode=a,h.sizeOf=r},{"./check":2}],33:[function(b,O,h){h.isBrowser=function(){return typeof window!="undefined"},h.isNode=function(){return typeof window=="undefined"},h.nodeBufferToArrayBuffer=function(f){for(var c=new ArrayBuffer(f.length),x=new Uint8Array(c),d=0;d<f.length;++d)x[d]=f[d];return c},h.arrayBufferToNodeBuffer=function(f){for(var c=new Buffer(f.byteLength),x=new Uint8Array(f),d=0;d<c.length;++d)c[d]=x[d];return c},h.checkArgument=function(f,c){if(!f)throw c}},{}]},{},[9])(9)});var Le=window.opentype;class je extends Ae{constructor(O){super(O);this.reversed=!1}load(O,h,f,c){const x=this,d=new Me(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(O,function(v){try{h(x.parse(v))}catch(a){c?c(a):console.error(a),x.manager.itemError(O)}},f,c)}parse(O){function h(c,x){const d=Math.round,v={},a=1e5/((c.unitsPerEm||2048)*72),r=c.encoding.cmap.glyphIndexMap,n=Object.keys(r);for(let t=0;t<n.length;t++){const s=n[t],i=c.glyphs.glyphs[r[s]];if(s!==void 0){const o={ha:d(i.advanceWidth*a),x_min:d(i.xMin*a),x_max:d(i.xMax*a),o:""};x&&(i.path.commands=f(i.path.commands)),i.path.commands.forEach(function(e){e.type.toLowerCase()==="c"&&(e.type="b"),o.o+=e.type.toLowerCase()+" ",e.x!==void 0&&e.y!==void 0&&(o.o+=d(e.x*a)+" "+d(e.y*a)+" "),e.x1!==void 0&&e.y1!==void 0&&(o.o+=d(e.x1*a)+" "+d(e.y1*a)+" "),e.x2!==void 0&&e.y2!==void 0&&(o.o+=d(e.x2*a)+" "+d(e.y2*a)+" ")}),v[String.fromCodePoint(i.unicode)]=o}}return{glyphs:v,familyName:c.getEnglishName("fullName"),ascender:d(c.ascender*a),descender:d(c.descender*a),underlinePosition:c.tables.post.underlinePosition,underlineThickness:c.tables.post.underlineThickness,boundingBox:{xMin:c.tables.head.xMin,xMax:c.tables.head.xMax,yMin:c.tables.head.yMin,yMax:c.tables.head.yMax},resolution:1e3,original_font_information:c.tables.name}}function f(c){const x=[];let d;c.forEach(function(a){a.type.toLowerCase()==="m"?(d=[a],x.push(d)):a.type.toLowerCase()!=="z"&&d.push(a)});const v=[];return x.forEach(function(a){const r={type:"m",x:a[a.length-1].x,y:a[a.length-1].y};v.push(r);for(let n=a.length-1;n>0;n--){const t=a[n],s={type:t.type};t.x2!==void 0&&t.y2!==void 0?(s.x1=t.x2,s.y1=t.y2,s.x2=t.x1,s.y2=t.y1):t.x1!==void 0&&t.y1!==void 0&&(s.x1=t.x1,s.y1=t.y1),s.x=a[n-1].x,s.y=a[n-1].y,v.push(s)}}),v}return typeof Le=="undefined"?(console.warn("THREE.TTFLoader: The loader requires opentype.js. Make sure it's included before using the loader."),null):h(Le.parse(O),this.reversed)}}const Te={};async function Xe(b){if(Te[b])return Te[b];const O=new je;return new Promise(h=>{O.load(b,function(f){const c=new ke(f);Te[b]=c,h(c)})})}function Ye(b,{sampler:O,pointMaterial:h,count:f,color:c=16777215},x=new be){let d=typeof c=="function",v=new Float32Array(0);d?(v=new Float32Array(f*3),h.vertexColors=!0):h.color.set(c);const a=x.toArray(),r=new O(b).build(),n=new Float32Array(f*3),t=new be,s=new xe;for(let i=0;i<f;i++)r.sample(t),n.set([a[0]+t.x,a[1]+t.y,a[2]+t.z],i*3),d&&v.set(c(i,t),i*3);return s.setAttribute("position",new Oe(n,3)),s.setAttribute("color",new Oe(v,3)),new Ne(s,h)}class Ze{constructor(O={}){J(this,"name");J(this,"options");J(this,"initialItem",!1);J(this,"object");J(this,"scene");J(this,"update");J(this,"pos");J(this,"rot");J(this,"scale");J(this,"material");J(this,"geometry");J(this,"group");J(this,"props");J(this,"_active",!1);J(this,"mount",()=>{var h,f;this.destroy();const O=this.options.light;if(this.options.object){(h=this._target)==null||h.add(this.options.object);return}this.options.light?this.initAsLight():this.options.text?this.initAsText():this.initAsObject(),this.group&&((f=this.scene)==null||f.threeScene.add(this.group)),O?this.mountLight():this.mountObject()});J(this,"setObjectSize",()=>{var h,f,c,x;if(!this.object)return;const O=(h=this.group)!=null?h:this.object;O.position.copy((f=this.pos)!=null?f:this.options.pos),this.pos=O.position,O.rotation.copy((c=this.rot)!=null?c:this.options.rot),this.rot=O.rotation,O.scale.copy((x=this.scale)!=null?x:this.options.scale),this.scale=O.scale});J(this,"mountLight",()=>{var h,f,c;const O=this.options.light;!O||(this.object=O,O.position.copy((h=this.options.pos)!=null?h:this.pos),this.options.addToScene!==!1&&((f=this._target)==null||f.add(this.object)),O.castShadow=(c=this.options.shadow)!=null?c:!1,this.setObjectSize())});J(this,"mountObject",()=>{var f;this._active=!0;const O=this.geometry;this.geometry=O;const h=this.material;this.material=h,this.object&&this.options.addToScene!==!1&&((f=this._target)==null||f.add(this.object),this.options.shadow&&(this.object.castShadow=!0,this.object.receiveShadow=!0)),this.setObjectSize()});J(this,"initSurfaceScattering",(O,h=new be)=>{const f=this.setupGroup();if(!this.object)throw Error("Surface scattering requires an object");const c=Ye(this.object,O,h);f.add(c)});J(this,"destroy",()=>{this._active=!1,this.object&&Se(this.object),this.group&&Se(this.group)});var h,f,c,x,d;this.options=O,this.name=(h=O.name)!=null?h:"unnamed",this.pos=(f=O.pos)!=null?f:new be,this.rot=(c=O.rot)!=null?c:new Fe,this.scale=(x=O.scale)!=null?x:new be(1,1,1),this.geometry=O.geometry,this.props=(d=O.props)!=null?d:{},this.object=O.object,this.initGeneral()}get _target(){var O,h;return(h=this.group)!=null?h:(O=this.scene)==null?void 0:O.threeScene}initGeneral(){var O,h;this.options.group&&this.setupGroup(),!this.options.object&&(this.material=(h=this.options.material)!=null?h:new De({color:(O=this.options.color)!=null?O:16777215}))}initAsLight(){}initAsText(){var f;const{ttfFile:O}=(f=this.options.font)!=null?f:{},h=this.options.text;if(this.setupGroup(),!O)throw new Error("No font file provided: `font.ttfFile`");Xe(O).then(c=>{if(!this.material)throw new Error("Text requires material");const{object:x,position:d}=We(h,c,this.material,this.options.font);this.object=x,this.mountObject(),this.options.surfaceScattering&&this.initSurfaceScattering(this.options.surfaceScattering,d)})}initAsObject(){this.geometry||(this.geometry=new Pe(1,1,1)),this.material&&this.geometry&&(this.object=new Ue(this.geometry,this.material)),this.options.surfaceScattering&&this.initSurfaceScattering(this.options.surfaceScattering)}setupGroup(){return this.group||(this.group=new Be,this.setObjectSize()),this.group}}class Ke{constructor(O,h={}){J(this,"loadedAt");J(this,"name");J(this,"options");J(this,"objectStack",[]);J(this,"threeScene",new Ge);J(this,"core");J(this,"mounted",!1);J(this,"onUpdate");J(this,"onMount");J(this,"onDestroy");J(this,"_tidyInterval",0);J(this,"add",(...O)=>{for(const h of O)h.scene=this,this.objectStack.push(h),this.mounted?h.mount():h.initialItem=!0});J(this,"mount",()=>{var O;this.destroy(),this.options.camera&&this.setMainCamera(this.options.camera),this.mounted=!0;for(const h of this.objectStack)h==null||h.mount();(O=this.onMount)==null||O.call(this,this)});J(this,"update",()=>{var O,h;for(const f of this.objectStack)(f==null?void 0:f._active)&&((O=f.update)==null||O.call(f,f));(h=this.onUpdate)==null||h.call(this,this)});J(this,"setMainCamera",O=>{var h;(h=this.core)==null||h.setMainCamera(O)});J(this,"destroy",()=>{var h;this.mounted=!1,(h=this.onDestroy)==null||h.call(this,this);const O=this.threeScene.children;for(const f of O)Se(f);for(const f of this.objectStack)f==null||f.destroy();this.objectStack=this.objectStack.filter(f=>f==null?void 0:f.initialItem)});this.loadedAt=0,this.options=h,this.name=O}}export{Ke as I,Ze as a};
